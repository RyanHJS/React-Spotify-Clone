{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\n\n/**\n * Root reference for iframes.\n */\nvar root;\nif (typeof window !== 'undefined') {\n  // Browser window\n  root = window;\n} else if (typeof self === 'undefined') {\n  // Other environments\n  console.warn('Using browser-only version of superagent in non-browser environment');\n  root = void 0;\n} else {\n  // Web Worker\n  root = self;\n}\nvar Emitter = require('component-emitter');\nvar safeStringify = require('fast-safe-stringify');\nvar qs = require('qs');\nvar RequestBase = require('./request-base');\nvar isObject = require('./is-object');\nvar ResponseBase = require('./response-base');\nvar Agent = require('./agent-base');\n/**\n * Noop.\n */\n\nfunction noop() {}\n/**\n * Expose `request`.\n */\n\nmodule.exports = function (method, url) {\n  // callback\n  if (typeof url === 'function') {\n    return new exports.Request('GET', method).end(url);\n  } // url first\n\n  if (arguments.length === 1) {\n    return new exports.Request('GET', method);\n  }\n  return new exports.Request(method, url);\n};\nexports = module.exports;\nvar request = exports;\nexports.Request = Request;\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest && (!root.location || root.location.protocol !== 'file:' || !root.ActiveXObject)) {\n    return new XMLHttpRequest();\n  }\n  try {\n    return new ActiveXObject('Microsoft.XMLHTTP');\n  } catch (_unused) {}\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n  } catch (_unused2) {}\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n  } catch (_unused3) {}\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP');\n  } catch (_unused4) {}\n  throw new Error('Browser-only version of superagent could not find XHR');\n};\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim ? function (s) {\n  return s.trim();\n} : function (s) {\n  return s.replace(/(^\\s*|\\s*$)/g, '');\n};\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val === undefined) return;\n  if (val === null) {\n    pairs.push(encodeURI(key));\n    return;\n  }\n  if (Array.isArray(val)) {\n    val.forEach(function (v) {\n      pushEncodedKeyValuePair(pairs, key, v);\n    });\n  } else if (isObject(val)) {\n    for (var subkey in val) {\n      if (Object.prototype.hasOwnProperty.call(val, subkey)) pushEncodedKeyValuePair(pairs, \"\".concat(key, \"[\").concat(subkey, \"]\"), val[subkey]);\n    }\n  } else {\n    pairs.push(encodeURI(key) + '=' + encodeURIComponent(val));\n  }\n}\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos === -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n  return obj;\n}\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  form: 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': qs.stringify,\n  'application/json': safeStringify\n};\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    if (index === -1) {\n      // could be empty line, just skip it\n      continue;\n    }\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n  return fields;\n}\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[/+]json($|[^-\\w])/i.test(mime);\n}\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req) {\n  this.req = req;\n  this.xhr = this.req.xhr; // responseText is accessible only if responseType is '' or 'text' and on older browsers\n\n  this.text = this.req.method !== 'HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text') || typeof this.xhr.responseType === 'undefined' ? this.xhr.responseText : null;\n  this.statusText = this.req.xhr.statusText;\n  var status = this.xhr.status; // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n\n  if (status === 1223) {\n    status = 204;\n  }\n  this._setStatusProperties(status);\n  this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  this.header = this.headers; // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n  if (this.text === null && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body = this.req.method === 'HEAD' ? null : this._parseBody(this.text ? this.text : this.xhr.response);\n  }\n} // eslint-disable-next-line new-cap\n\nResponseBase(Response.prototype);\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function (str) {\n  var parse = request.parse[this.type];\n  if (this.req._parser) {\n    return this.req._parser(this, str);\n  }\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length > 0 || str instanceof Object) ? parse(str) : null;\n};\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function () {\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n  var msg = \"cannot \".concat(method, \" \").concat(url, \" (\").concat(this.status, \")\");\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n  return err;\n};\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n\n  this._header = {}; // coerces header names to lowercase\n\n  this.on('end', function () {\n    var err = null;\n    var res = null;\n    try {\n      res = new Response(self);\n    } catch (err_) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = err_; // issue #675: return the raw response if the response parsing fails\n\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse = typeof self.xhr.responseType === 'undefined' ? self.xhr.responseText : self.xhr.response; // issue #876: return the http status code if the response parsing fails\n\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n      return self.callback(err);\n    }\n    self.emit('response', res);\n    var new_err;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(res.statusText || res.text || 'Unsuccessful HTTP response');\n      }\n    } catch (err_) {\n      new_err = err_; // ok() callback can throw\n    } // #1000 don't catch errors from the callback to avoid double calling it\n\n    if (new_err) {\n      new_err.original = err;\n      new_err.response = res;\n      new_err.status = res.status;\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n// eslint-disable-next-line new-cap\n\nEmitter(Request.prototype); // eslint-disable-next-line new-cap\n\nRequestBase(Request.prototype);\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function (type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function (type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function (user, pass, options) {\n  if (arguments.length === 1) pass = '';\n  if (_typeof(pass) === 'object' && pass !== null) {\n    // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n  if (!options) {\n    options = {\n      type: typeof btoa === 'function' ? 'basic' : 'auto'\n    };\n  }\n  var encoder = function encoder(string) {\n    if (typeof btoa === 'function') {\n      return btoa(string);\n    }\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n  return this._auth(user, pass, options, encoder);\n};\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.query = function (val) {\n  if (typeof val !== 'string') val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function (field, file, options) {\n  if (file) {\n    if (this._data) {\n      throw new Error(\"superagent can't mix .send() and .attach()\");\n    }\n    this._getFormData().append(field, file, options || file.name);\n  }\n  return this;\n};\nRequest.prototype._getFormData = function () {\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function (err, res) {\n  if (this._shouldRetry(err, res)) {\n    return this._retry();\n  }\n  var fn = this._callback;\n  this.clearTimeout();\n  if (err) {\n    if (this._maxRetries) err.retries = this._retries - 1;\n    this.emit('error', err);\n  }\n  fn(err, res);\n};\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function () {\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n  this.callback(err);\n}; // This only warns, because the request is still likely to work\n\nRequest.prototype.agent = function () {\n  console.warn('This is not supported in browser version of superagent');\n  return this;\n};\nRequest.prototype.ca = Request.prototype.agent;\nRequest.prototype.buffer = Request.prototype.ca; // This throws, because it can't send/receive data as expected\n\nRequest.prototype.write = function () {\n  throw new Error('Streaming is not supported in browser version of superagent');\n};\nRequest.prototype.pipe = Request.prototype.write;\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj host object\n * @return {Boolean} is a host object\n * @api private\n */\n\nRequest.prototype._isHost = function (obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return obj && _typeof(obj) === 'object' && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== '[object Object]';\n};\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function (fn) {\n  if (this._endCalled) {\n    console.warn('Warning: .end() was called twice. This is not supported in superagent');\n  }\n  this._endCalled = true; // store callback\n\n  this._callback = fn || noop; // querystring\n\n  this._finalizeQueryString();\n  this._end();\n};\nRequest.prototype._setUploadTimeout = function () {\n  var self = this; // upload timeout it's wokrs only if deadline timeout is off\n\n  if (this._uploadTimeout && !this._uploadTimeoutTimer) {\n    this._uploadTimeoutTimer = setTimeout(function () {\n      self._timeoutError('Upload timeout of ', self._uploadTimeout, 'ETIMEDOUT');\n    }, this._uploadTimeout);\n  }\n}; // eslint-disable-next-line complexity\n\nRequest.prototype._end = function () {\n  if (this._aborted) return this.callback(new Error('The request has been aborted even before .end() was called'));\n  var self = this;\n  this.xhr = request.getXHR();\n  var xhr = this.xhr;\n  var data = this._formData || this._data;\n  this._setTimeouts(); // state change\n\n  xhr.onreadystatechange = function () {\n    var readyState = xhr.readyState;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n    if (readyState !== 4) {\n      return;\n    } // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n\n    var status;\n    try {\n      status = xhr.status;\n    } catch (_unused5) {\n      status = 0;\n    }\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  }; // progress\n\n  var handleProgress = function handleProgress(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n      if (e.percent === 100) {\n        clearTimeout(self._uploadTimeoutTimer);\n      }\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.addEventListener('progress', handleProgress.bind(null, 'download'));\n      if (xhr.upload) {\n        xhr.upload.addEventListener('progress', handleProgress.bind(null, 'upload'));\n      }\n    } catch (_unused6) {// Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n  if (xhr.upload) {\n    this._setUploadTimeout();\n  } // initiate request\n\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  } // CORS\n\n  if (this._withCredentials) xhr.withCredentials = true; // body\n\n  if (!this._formData && this.method !== 'GET' && this.method !== 'HEAD' && typeof data !== 'string' && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var _serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!_serialize && isJSON(contentType)) {\n      _serialize = request.serialize['application/json'];\n    }\n    if (_serialize) data = _serialize(data);\n  } // set header fields\n\n  for (var field in this.header) {\n    if (this.header[field] === null) continue;\n    if (Object.prototype.hasOwnProperty.call(this.header, field)) xhr.setRequestHeader(field, this.header[field]);\n  }\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  } // send stuff\n\n  this.emit('request', this); // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n\n  xhr.send(typeof data === 'undefined' ? null : data);\n};\nrequest.agent = function () {\n  return new Agent();\n};\n['GET', 'POST', 'OPTIONS', 'PATCH', 'PUT', 'DELETE'].forEach(function (method) {\n  Agent.prototype[method.toLowerCase()] = function (url, fn) {\n    var req = new request.Request(method, url);\n    this._setDefaults(req);\n    if (fn) {\n      req.end(fn);\n    }\n    return req;\n  };\n});\nAgent.prototype.del = Agent.prototype.delete;\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function (url, data, fn) {\n  var req = request('GET', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function (url, data, fn) {\n  var req = request('HEAD', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function (url, data, fn) {\n  var req = request('OPTIONS', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, data, fn) {\n  var req = request('DELETE', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n}\nrequest.del = del;\nrequest.delete = del;\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function (url, data, fn) {\n  var req = request('PATCH', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function (url, data, fn) {\n  var req = request('POST', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function (url, data, fn) {\n  var req = request('PUT', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};","map":{"version":3,"names":["root","window","self","console","warn","Emitter","require","safeStringify","qs","RequestBase","isObject","ResponseBase","Agent","noop","module","exports","method","url","Request","end","arguments","length","request","getXHR","XMLHttpRequest","location","protocol","ActiveXObject","_unused","_unused2","_unused3","_unused4","Error","trim","s","replace","serialize","obj","pairs","key","Object","prototype","hasOwnProperty","call","pushEncodedKeyValuePair","join","val","undefined","push","encodeURI","Array","isArray","forEach","v","subkey","concat","encodeURIComponent","serializeObject","parseString","str","split","pair","pos","i","len","indexOf","decodeURIComponent","slice","types","html","json","xml","urlencoded","form","stringify","parse","JSON","parseHeader","lines","fields","index","line","field","toLowerCase","isJSON","mime","test","Response","req","xhr","text","responseType","responseText","statusText","status","_setStatusProperties","headers","getAllResponseHeaders","header","getResponseHeader","_setHeaderProperties","_responseType","body","response","_parseBody","type","_parser","toError","msg","err","_query","_header","on","res","err_","original","rawResponse","statusCode","callback","emit","new_err","_isResponseOK","set","accept","auth","user","pass","options","_typeof","btoa","encoder","string","_auth","query","attach","file","_data","_getFormData","append","name","_formData","FormData","_shouldRetry","_retry","fn","_callback","clearTimeout","_maxRetries","retries","_retries","crossDomainError","crossDomain","agent","ca","buffer","write","pipe","_isHost","toString","_endCalled","_finalizeQueryString","_end","_setUploadTimeout","_uploadTimeout","_uploadTimeoutTimer","setTimeout","_timeoutError","_aborted","data","_setTimeouts","onreadystatechange","readyState","_responseTimeoutTimer","_unused5","timedout","handleProgress","direction","e","total","percent","loaded","hasListeners","addEventListener","bind","upload","_unused6","username","password","open","_withCredentials","withCredentials","contentType","_serialize","_serializer","setRequestHeader","send","_setDefaults","del","delete","get","head","patch","post","put"],"sources":["/Users/ryanhe/Desktop/Javascript/React-Spotify-Clone/spotify-clone/node_modules/superagent/src/client.js"],"sourcesContent":["/**\n * Root reference for iframes.\n */\n\nlet root;\nif (typeof window !== 'undefined') {\n  // Browser window\n  root = window;\n} else if (typeof self === 'undefined') {\n  // Other environments\n  console.warn(\n    'Using browser-only version of superagent in non-browser environment'\n  );\n  root = this;\n} else {\n  // Web Worker\n  root = self;\n}\n\nconst Emitter = require('component-emitter');\nconst safeStringify = require('fast-safe-stringify');\nconst qs = require('qs');\nconst RequestBase = require('./request-base');\nconst isObject = require('./is-object');\nconst ResponseBase = require('./response-base');\nconst Agent = require('./agent-base');\n\n/**\n * Noop.\n */\n\nfunction noop() {}\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = function (method, url) {\n  // callback\n  if (typeof url === 'function') {\n    return new exports.Request('GET', method).end(url);\n  }\n\n  // url first\n  if (arguments.length === 1) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n};\n\nexports = module.exports;\n\nconst request = exports;\n\nexports.Request = Request;\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = () => {\n  if (\n    root.XMLHttpRequest &&\n    (!root.location ||\n      root.location.protocol !== 'file:' ||\n      !root.ActiveXObject)\n  ) {\n    return new XMLHttpRequest();\n  }\n\n  try {\n    return new ActiveXObject('Microsoft.XMLHTTP');\n  } catch {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n  } catch {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n  } catch {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP');\n  } catch {}\n\n  throw new Error('Browser-only version of superagent could not find XHR');\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nconst trim = ''.trim ? (s) => s.trim() : (s) => s.replace(/(^\\s*|\\s*$)/g, '');\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  const pairs = [];\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key))\n      pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val === undefined) return;\n  if (val === null) {\n    pairs.push(encodeURI(key));\n    return;\n  }\n\n  if (Array.isArray(val)) {\n    val.forEach((v) => {\n      pushEncodedKeyValuePair(pairs, key, v);\n    });\n  } else if (isObject(val)) {\n    for (const subkey in val) {\n      if (Object.prototype.hasOwnProperty.call(val, subkey))\n        pushEncodedKeyValuePair(pairs, `${key}[${subkey}]`, val[subkey]);\n    }\n  } else {\n    pairs.push(encodeURI(key) + '=' + encodeURIComponent(val));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(str) {\n  const obj = {};\n  const pairs = str.split('&');\n  let pair;\n  let pos;\n\n  for (let i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos === -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(\n        pair.slice(pos + 1)\n      );\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  form: 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': qs.stringify,\n  'application/json': safeStringify\n};\n\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  const lines = str.split(/\\r?\\n/);\n  const fields = {};\n  let index;\n  let line;\n  let field;\n  let val;\n\n  for (let i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    if (index === -1) {\n      // could be empty line, just skip it\n      continue;\n    }\n\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[/+]json($|[^-\\w])/i.test(mime);\n}\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req) {\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text =\n    (this.req.method !== 'HEAD' &&\n      (this.xhr.responseType === '' || this.xhr.responseType === 'text')) ||\n    typeof this.xhr.responseType === 'undefined'\n      ? this.xhr.responseText\n      : null;\n  this.statusText = this.req.xhr.statusText;\n  let { status } = this.xhr;\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  this._setStatusProperties(status);\n  this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  this.header = this.headers;\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n\n  if (this.text === null && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body =\n      this.req.method === 'HEAD'\n        ? null\n        : this._parseBody(this.text ? this.text : this.xhr.response);\n  }\n}\n\n// eslint-disable-next-line new-cap\nResponseBase(Response.prototype);\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function (str) {\n  let parse = request.parse[this.type];\n  if (this.req._parser) {\n    return this.req._parser(this, str);\n  }\n\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n\n  return parse && str && (str.length > 0 || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function () {\n  const { req } = this;\n  const { method } = req;\n  const { url } = req;\n\n  const msg = `cannot ${method} ${url} (${this.status})`;\n  const err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  const self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', () => {\n    let err = null;\n    let res = null;\n\n    try {\n      res = new Response(self);\n    } catch (err_) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = err_;\n      // issue #675: return the raw response if the response parsing fails\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse =\n          typeof self.xhr.responseType === 'undefined'\n            ? self.xhr.responseText\n            : self.xhr.response;\n        // issue #876: return the http status code if the response parsing fails\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    let new_err;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(\n          res.statusText || res.text || 'Unsuccessful HTTP response'\n        );\n      }\n    } catch (err_) {\n      new_err = err_; // ok() callback can throw\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      new_err.original = err;\n      new_err.response = res;\n      new_err.status = res.status;\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n\n// eslint-disable-next-line new-cap\nEmitter(Request.prototype);\n// eslint-disable-next-line new-cap\nRequestBase(Request.prototype);\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function (type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function (type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function (user, pass, options) {\n  if (arguments.length === 1) pass = '';\n  if (typeof pass === 'object' && pass !== null) {\n    // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n\n  if (!options) {\n    options = {\n      type: typeof btoa === 'function' ? 'basic' : 'auto'\n    };\n  }\n\n  const encoder = (string) => {\n    if (typeof btoa === 'function') {\n      return btoa(string);\n    }\n\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n\n  return this._auth(user, pass, options, encoder);\n};\n\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.query = function (val) {\n  if (typeof val !== 'string') val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function (field, file, options) {\n  if (file) {\n    if (this._data) {\n      throw new Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n\n  return this;\n};\n\nRequest.prototype._getFormData = function () {\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function (err, res) {\n  if (this._shouldRetry(err, res)) {\n    return this._retry();\n  }\n\n  const fn = this._callback;\n  this.clearTimeout();\n\n  if (err) {\n    if (this._maxRetries) err.retries = this._retries - 1;\n    this.emit('error', err);\n  }\n\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function () {\n  const err = new Error(\n    'Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.'\n  );\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n// This only warns, because the request is still likely to work\nRequest.prototype.agent = function () {\n  console.warn('This is not supported in browser version of superagent');\n  return this;\n};\n\nRequest.prototype.ca = Request.prototype.agent;\nRequest.prototype.buffer = Request.prototype.ca;\n\n// This throws, because it can't send/receive data as expected\nRequest.prototype.write = () => {\n  throw new Error(\n    'Streaming is not supported in browser version of superagent'\n  );\n};\n\nRequest.prototype.pipe = Request.prototype.write;\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj host object\n * @return {Boolean} is a host object\n * @api private\n */\nRequest.prototype._isHost = function (obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return (\n    obj &&\n    typeof obj === 'object' &&\n    !Array.isArray(obj) &&\n    Object.prototype.toString.call(obj) !== '[object Object]'\n  );\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function (fn) {\n  if (this._endCalled) {\n    console.warn(\n      'Warning: .end() was called twice. This is not supported in superagent'\n    );\n  }\n\n  this._endCalled = true;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // querystring\n  this._finalizeQueryString();\n\n  this._end();\n};\n\nRequest.prototype._setUploadTimeout = function () {\n  const self = this;\n\n  // upload timeout it's wokrs only if deadline timeout is off\n  if (this._uploadTimeout && !this._uploadTimeoutTimer) {\n    this._uploadTimeoutTimer = setTimeout(() => {\n      self._timeoutError(\n        'Upload timeout of ',\n        self._uploadTimeout,\n        'ETIMEDOUT'\n      );\n    }, this._uploadTimeout);\n  }\n};\n\n// eslint-disable-next-line complexity\nRequest.prototype._end = function () {\n  if (this._aborted)\n    return this.callback(\n      new Error('The request has been aborted even before .end() was called')\n    );\n\n  const self = this;\n  this.xhr = request.getXHR();\n  const { xhr } = this;\n  let data = this._formData || this._data;\n\n  this._setTimeouts();\n\n  // state change\n  xhr.onreadystatechange = () => {\n    const { readyState } = xhr;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n\n    if (readyState !== 4) {\n      return;\n    }\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    let status;\n    try {\n      status = xhr.status;\n    } catch {\n      status = 0;\n    }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n\n    self.emit('end');\n  };\n\n  // progress\n  const handleProgress = (direction, e) => {\n    if (e.total > 0) {\n      e.percent = (e.loaded / e.total) * 100;\n\n      if (e.percent === 100) {\n        clearTimeout(self._uploadTimeoutTimer);\n      }\n    }\n\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.addEventListener('progress', handleProgress.bind(null, 'download'));\n      if (xhr.upload) {\n        xhr.upload.addEventListener(\n          'progress',\n          handleProgress.bind(null, 'upload')\n        );\n      }\n    } catch {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  if (xhr.upload) {\n    this._setUploadTimeout();\n  }\n\n  // initiate request\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if (\n    !this._formData &&\n    this.method !== 'GET' &&\n    this.method !== 'HEAD' &&\n    typeof data !== 'string' &&\n    !this._isHost(data)\n  ) {\n    // serialize stuff\n    const contentType = this._header['content-type'];\n    let serialize =\n      this._serializer ||\n      request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (const field in this.header) {\n    if (this.header[field] === null) continue;\n\n    if (Object.prototype.hasOwnProperty.call(this.header, field))\n      xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data === 'undefined' ? null : data);\n};\n\nrequest.agent = () => new Agent();\n\n['GET', 'POST', 'OPTIONS', 'PATCH', 'PUT', 'DELETE'].forEach((method) => {\n  Agent.prototype[method.toLowerCase()] = function (url, fn) {\n    const req = new request.Request(method, url);\n    this._setDefaults(req);\n    if (fn) {\n      req.end(fn);\n    }\n\n    return req;\n  };\n});\n\nAgent.prototype.del = Agent.prototype.delete;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = (url, data, fn) => {\n  const req = request('GET', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = (url, data, fn) => {\n  const req = request('HEAD', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = (url, data, fn) => {\n  const req = request('OPTIONS', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, data, fn) {\n  const req = request('DELETE', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n}\n\nrequest.del = del;\nrequest.delete = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = (url, data, fn) => {\n  const req = request('PATCH', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = (url, data, fn) => {\n  const req = request('POST', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = (url, data, fn) => {\n  const req = request('PUT', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}