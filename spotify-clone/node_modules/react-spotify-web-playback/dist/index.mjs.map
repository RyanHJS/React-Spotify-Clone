{"version":3,"sources":["../src/index.tsx","../src/modules/getters.ts","../src/modules/helpers.ts","../src/modules/spotify.ts","../src/components/Actions.tsx","../src/modules/styled.tsx","../src/components/Controls.tsx","../src/components/icons/Next.tsx","../src/components/icons/Pause.tsx","../src/components/icons/Play.tsx","../src/components/icons/Previous.tsx","../src/components/Slider.tsx","../src/components/Devices.tsx","../src/components/ClickOutside.tsx","../src/components/icons/Devices.tsx","../src/components/icons/DevicesComputer.tsx","../src/components/icons/DevicesMobile.tsx","../src/components/icons/DevicesSpeaker.tsx","../src/components/ErrorMessage.tsx","../src/components/Info.tsx","../src/modules/hooks.ts","../src/components/icons/Favorite.tsx","../src/components/icons/FavoriteOutline.tsx","../src/components/SpotifyLogo.tsx","../src/components/Loader.tsx","../src/components/Player.tsx","../src/components/Volume.tsx","../src/components/icons/VolumeHigh.tsx","../src/components/icons/VolumeLow.tsx","../src/components/icons/VolumeMid.tsx","../src/components/icons/VolumeMute.tsx","../src/components/Wrapper.tsx","../src/constants.ts"],"sourcesContent":["/* eslint-disable camelcase */\nimport { createRef, PureComponent, ReactNode } from 'react';\nimport isEqual from '@gilbarbara/deep-equal';\nimport memoize from 'memoize-one';\n\nimport { getLocale, getMergedStyles, getSpotifyURIType } from '~/modules/getters';\nimport {\n  convertTrack,\n  getAlbumImage,\n  loadSpotifyPlayer,\n  parseVolume,\n  round,\n  validateURI,\n} from '~/modules/helpers';\nimport {\n  getDevices,\n  getPlaybackState,\n  next,\n  pause,\n  play,\n  previous,\n  seek,\n  setDevice,\n  setVolume,\n} from '~/modules/spotify';\n\nimport Actions from '~/components/Actions';\nimport Controls from '~/components/Controls';\nimport Devices from '~/components/Devices';\nimport ErrorMessage from '~/components/ErrorMessage';\nimport Info from '~/components/Info';\nimport Loader from '~/components/Loader';\nimport Player from '~/components/Player';\nimport Volume from '~/components/Volume';\nimport Wrapper from '~/components/Wrapper';\n\nimport { ERROR_TYPE, STATUS, TYPE } from '~/constants';\n\nimport {\n  CallbackState,\n  ErrorType,\n  Locale,\n  PlayOptions,\n  Props,\n  SpotifyArtist,\n  SpotifyDevice,\n  SpotifyPlayerCallback,\n  SpotifyPlayerStatus,\n  State,\n  Status,\n  StylesOptions,\n} from './types';\n\nclass SpotifyWebPlayer extends PureComponent<Props, State> {\n  private isMounted = false;\n  private emptyTrack = {\n    artists: [] as SpotifyArtist[],\n    durationMs: 0,\n    id: '',\n    image: '',\n    name: '',\n    uri: '',\n  };\n\n  private locale: Locale;\n  private player?: Spotify.Player;\n  private playerProgressInterval?: number;\n  private playerSyncInterval?: number;\n  private ref = createRef<HTMLDivElement>();\n  private renderInlineActions = false;\n  private resizeTimeout?: number;\n  private seekUpdateInterval = 100;\n  private styles: StylesOptions;\n  private syncTimeout?: number;\n\n  // eslint-disable-next-line unicorn/consistent-function-scoping\n  private getPlayOptions = memoize((data): PlayOptions => {\n    const playOptions: PlayOptions = {\n      context_uri: undefined,\n      uris: undefined,\n    };\n\n    /* istanbul ignore else */\n    if (data) {\n      const ids = Array.isArray(data) ? data : [data];\n\n      if (!ids.every(d => validateURI(d))) {\n        // eslint-disable-next-line no-console\n        console.error('Invalid URI');\n\n        return playOptions;\n      }\n\n      if (ids.some(d => getSpotifyURIType(d) === 'track')) {\n        if (!ids.every(d => getSpotifyURIType(d) === 'track')) {\n          // eslint-disable-next-line no-console\n          console.warn(\"You can't mix tracks URIs with other types\");\n        }\n\n        playOptions.uris = ids.filter(d => validateURI(d) && getSpotifyURIType(d) === 'track');\n      } else {\n        if (ids.length > 1) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Albums, Artists, Playlists and Podcasts can't have multiple URIs\");\n        }\n\n        // eslint-disable-next-line prefer-destructuring\n        playOptions.context_uri = ids[0];\n      }\n    }\n\n    return playOptions;\n  });\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      currentDeviceId: '',\n      deviceId: '',\n      devices: [],\n      error: '',\n      errorType: null,\n      isActive: false,\n      isInitializing: false,\n      isMagnified: false,\n      isPlaying: false,\n      isSaved: false,\n      isUnsupported: false,\n      needsUpdate: false,\n      nextTracks: [],\n      playerPosition: 'bottom',\n      position: 0,\n      previousTracks: [],\n      progressMs: 0,\n      status: STATUS.IDLE,\n      track: this.emptyTrack,\n      volume: parseVolume(props.initialVolume) || 1,\n    };\n\n    this.locale = getLocale(props.locale);\n\n    this.styles = getMergedStyles(props.styles);\n  }\n\n  // eslint-disable-next-line react/static-property-placement\n  static defaultProps = {\n    autoPlay: false,\n    initialVolume: 1,\n    magnifySliderOnHover: false,\n    name: 'Spotify Web Player',\n    persistDeviceSelection: false,\n    showSaveIcon: false,\n    syncExternalDeviceInterval: 5,\n    syncExternalDevice: false,\n  };\n\n  public async componentDidMount() {\n    this.isMounted = true;\n    const { top = 0 } = this.ref.current?.getBoundingClientRect() || {};\n\n    this.updateState({\n      playerPosition: top > window.innerHeight / 2 ? 'bottom' : 'top',\n      status: STATUS.INITIALIZING,\n    });\n\n    if (!window.onSpotifyWebPlaybackSDKReady) {\n      window.onSpotifyWebPlaybackSDKReady = this.initializePlayer;\n    } else {\n      this.initializePlayer();\n    }\n\n    await loadSpotifyPlayer();\n\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n  }\n\n  public async componentDidUpdate(previousProps: Props, previousState: State) {\n    const { currentDeviceId, deviceId, isInitializing, isPlaying, status, track } = this.state;\n    const {\n      autoPlay,\n      layout,\n      locale,\n      offset,\n      play: playProp,\n      showSaveIcon,\n      styles,\n      syncExternalDevice,\n      uris,\n    } = this.props;\n    const isReady = previousState.status !== STATUS.READY && status === STATUS.READY;\n    const changedLayout = !isEqual(previousProps.layout, layout);\n    const changedLocale = !isEqual(previousProps.locale, locale);\n    const changedStyles = !isEqual(previousProps.styles, styles);\n    const changedURIs = !isEqual(previousProps.uris, uris);\n    const playOptions = this.getPlayOptions(uris);\n\n    const canPlay = !!currentDeviceId && !!(playOptions.context_uri || playOptions.uris);\n    const shouldPlay = (changedURIs && isPlaying) || !!(isReady && (autoPlay || playProp));\n\n    if (canPlay && shouldPlay) {\n      await this.togglePlay(true);\n\n      /* istanbul ignore else */\n      if (!isPlaying) {\n        this.updateState({ isPlaying: true });\n      }\n\n      if (this.isExternalPlayer) {\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 600);\n      }\n    } else if (changedURIs && !isPlaying) {\n      this.updateState({ needsUpdate: true });\n    }\n\n    if (previousState.status !== status) {\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.STATUS,\n      });\n    }\n\n    if (previousState.currentDeviceId !== currentDeviceId && currentDeviceId) {\n      if (!isReady) {\n        this.handleCallback({\n          ...this.state,\n          type: TYPE.DEVICE,\n        });\n      }\n\n      await this.toggleSyncInterval(this.isExternalPlayer);\n      await this.updateSeekBar();\n    }\n\n    if (previousState.track.id !== track.id && track.id) {\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.TRACK,\n      });\n\n      if (showSaveIcon) {\n        this.updateState({ isSaved: false });\n      }\n    }\n\n    if (previousState.isPlaying !== isPlaying) {\n      this.toggleProgressBar();\n      await this.toggleSyncInterval(this.isExternalPlayer);\n\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.PLAYER,\n      });\n    }\n\n    if (previousProps.play !== playProp && playProp !== isPlaying) {\n      await this.togglePlay(!track.id || changedURIs);\n    }\n\n    if (previousProps.offset !== offset) {\n      await this.toggleOffset();\n    }\n\n    if (previousState.isInitializing && !isInitializing) {\n      if (syncExternalDevice && !uris) {\n        const player: SpotifyPlayerStatus = await getPlaybackState(this.token);\n\n        /* istanbul ignore else */\n        if (player && player.is_playing && player.device.id !== deviceId) {\n          this.setExternalDevice(player.device.id);\n        }\n      }\n    }\n\n    if (changedLayout) {\n      this.handleResize();\n    }\n\n    if (changedLocale) {\n      this.locale = getLocale(locale);\n    }\n\n    if (changedStyles) {\n      this.styles = getMergedStyles(styles);\n    }\n  }\n\n  public async componentWillUnmount() {\n    this.isMounted = false;\n\n    /* istanbul ignore else */\n    if (this.player) {\n      this.player.disconnect();\n    }\n\n    clearInterval(this.playerSyncInterval);\n    clearInterval(this.playerProgressInterval);\n    clearTimeout(this.syncTimeout);\n\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  private handleCallback(state: CallbackState): void {\n    const { callback } = this.props;\n\n    if (callback) {\n      callback(state);\n    }\n  }\n\n  private handleChangeRange = async (position: number) => {\n    const { track } = this.state;\n    const { callback } = this.props;\n    let progress = 0;\n\n    try {\n      const percentage = position / 100;\n\n      if (this.isExternalPlayer) {\n        progress = Math.round(track.durationMs * percentage);\n        await seek(this.token, progress);\n\n        this.updateState({\n          position,\n          progressMs: progress,\n        });\n      } else if (this.player) {\n        const state = await this.player.getCurrentState();\n\n        if (state) {\n          progress = Math.round(state.track_window.current_track.duration_ms * percentage);\n          await this.player.seek(progress);\n\n          this.updateState({\n            position,\n            progressMs: progress,\n          });\n        } else {\n          this.updateState({ position: 0 });\n        }\n      }\n\n      if (callback) {\n        callback({\n          ...this.state,\n          type: TYPE.PROGRESS,\n        });\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickTogglePlay = async () => {\n    const { isActive } = this.state;\n\n    try {\n      await this.togglePlay(!this.isExternalPlayer && !isActive);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickPrevious = async () => {\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        await previous(this.token);\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 300);\n      } else if (this.player) {\n        await this.player.previousTrack();\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickNext = async () => {\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        await next(this.token);\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 300);\n      } else if (this.player) {\n        await this.player.nextTrack();\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickDevice = async (deviceId: string) => {\n    const { isUnsupported } = this.state;\n    const { autoPlay, persistDeviceSelection } = this.props;\n\n    this.updateState({ currentDeviceId: deviceId });\n\n    try {\n      await setDevice(this.token, deviceId);\n\n      /* istanbul ignore else */\n      if (persistDeviceSelection) {\n        sessionStorage.setItem('rswpDeviceId', deviceId);\n      }\n\n      /* istanbul ignore else */\n      if (isUnsupported) {\n        await this.syncDevice();\n\n        const player: SpotifyPlayerStatus = await getPlaybackState(this.token);\n\n        if (player && !player.is_playing && autoPlay) {\n          await this.togglePlay(true);\n        }\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleFavoriteStatusChange = (status: boolean) => {\n    const { isSaved } = this.state;\n\n    this.updateState({ isSaved: status });\n\n    /* istanbul ignore else */\n    if (isSaved !== status) {\n      this.handleCallback({\n        ...this.state,\n        isSaved: status,\n        type: TYPE.FAVORITE,\n      });\n    }\n  };\n\n  private handlePlayerErrors = async (type: ErrorType, message: string) => {\n    const { status } = this.state;\n    const isPlaybackError = type === ERROR_TYPE.PLAYBACK;\n    const isInitializationError = type === ERROR_TYPE.INITIALIZATION;\n\n    let nextStatus = status;\n    let devices: SpotifyDevice[] = [];\n\n    if (this.player && !isPlaybackError) {\n      this.player.disconnect();\n      this.player = undefined;\n    }\n\n    if (isInitializationError) {\n      nextStatus = STATUS.UNSUPPORTED;\n\n      ({ devices = [] } = await getDevices(this.token));\n    } else if (!isPlaybackError) {\n      nextStatus = STATUS.ERROR;\n    }\n\n    this.updateState({\n      devices,\n      error: message,\n      errorType: type,\n      isInitializing: false,\n      isUnsupported: isInitializationError,\n      status: nextStatus,\n    });\n  };\n\n  private handlePlayerStateChanges = async (state: Spotify.PlaybackState) => {\n    try {\n      /* istanbul ignore else */\n      if (state) {\n        const {\n          paused,\n          position,\n          track_window: { current_track, next_tracks, previous_tracks },\n        } = state;\n\n        const isPlaying = !paused;\n        const volume = (await this.player?.getVolume()) || 100;\n        let trackState = {};\n\n        if (position === 0 && current_track) {\n          trackState = {\n            nextTracks: next_tracks.map(convertTrack),\n            position: 0,\n            previousTracks: previous_tracks.map(convertTrack),\n            track: convertTrack(current_track),\n          };\n        }\n\n        this.updateState({\n          error: '',\n          errorType: null,\n          isActive: true,\n          isPlaying,\n          progressMs: position,\n          volume: round(volume),\n          ...trackState,\n        });\n      } else if (this.isExternalPlayer) {\n        await this.syncDevice();\n      } else {\n        this.updateState({\n          isActive: false,\n          isPlaying: false,\n          nextTracks: [],\n          position: 0,\n          previousTracks: [],\n          track: {\n            artists: [],\n            durationMs: 0,\n            id: '',\n            image: '',\n            name: '',\n            uri: '',\n          },\n        });\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handlePlayerStatus = async ({ device_id }: Spotify.WebPlaybackInstance) => {\n    const { currentDeviceId, devices } = await this.initializeDevices(device_id);\n\n    this.updateState({\n      currentDeviceId,\n      deviceId: device_id,\n      devices,\n      isInitializing: false,\n      status: device_id ? STATUS.READY : STATUS.IDLE,\n    });\n  };\n\n  private handleResize = () => {\n    const { layout = 'responsive' } = this.props;\n\n    clearTimeout(this.resizeTimeout);\n\n    this.resizeTimeout = window.setTimeout(() => {\n      this.renderInlineActions = window.innerWidth >= 768 && layout === 'responsive';\n      this.forceUpdate();\n    }, 100);\n  };\n\n  private handleToggleMagnify = () => {\n    const { magnifySliderOnHover } = this.props;\n\n    if (magnifySliderOnHover) {\n      this.updateState(previousState => {\n        return { isMagnified: !previousState.isMagnified };\n      });\n    }\n  };\n\n  private get token(): string {\n    const { token } = this.props;\n\n    return token;\n  }\n\n  private async initializeDevices(id: string) {\n    const { persistDeviceSelection } = this.props;\n    const { devices } = await getDevices(this.token);\n    let currentDeviceId = id;\n\n    if (persistDeviceSelection) {\n      const savedDeviceId = sessionStorage.getItem('rswpDeviceId');\n\n      /* istanbul ignore else */\n      if (!savedDeviceId || !devices.some((d: SpotifyDevice) => d.id === savedDeviceId)) {\n        sessionStorage.setItem('rswpDeviceId', currentDeviceId);\n      } else {\n        currentDeviceId = savedDeviceId;\n      }\n    }\n\n    return { currentDeviceId, devices };\n  }\n\n  private initializePlayer = () => {\n    const { volume } = this.state;\n    const {\n      getOAuthToken = (callback: SpotifyPlayerCallback) => {\n        callback(this.token);\n      },\n      name = 'Spotify Web Player',\n    } = this.props;\n\n    if (!window.Spotify) {\n      return;\n    }\n\n    this.updateState({\n      error: '',\n      errorType: null,\n      isInitializing: true,\n    });\n\n    this.player = new window.Spotify.Player({\n      getOAuthToken,\n      name,\n      volume,\n    });\n\n    this.player.addListener('ready', this.handlePlayerStatus);\n    this.player.addListener('not_ready', this.handlePlayerStatus);\n    this.player.addListener('player_state_changed', this.handlePlayerStateChanges);\n    this.player.addListener('initialization_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.INITIALIZATION, error.message),\n    );\n    this.player.addListener('authentication_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.AUTHENTICATION, error.message),\n    );\n    this.player.addListener('account_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.ACCOUNT, error.message),\n    );\n    this.player.addListener('playback_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.PLAYBACK, error.message),\n    );\n    this.player.addListener('autoplay_failed', async () => {\n      // eslint-disable-next-line no-console\n      console.log('Autoplay is not allowed by the browser autoplay rules');\n    });\n\n    this.player.connect();\n  };\n\n  private get isExternalPlayer(): boolean {\n    const { currentDeviceId, deviceId, status } = this.state;\n\n    return (currentDeviceId && currentDeviceId !== deviceId) || status === STATUS.UNSUPPORTED;\n  }\n\n  private setExternalDevice = (id: string) => {\n    this.updateState({ currentDeviceId: id, isPlaying: true });\n  };\n\n  private setVolume = async (volume: number) => {\n    /* istanbul ignore else */\n    if (this.isExternalPlayer) {\n      await setVolume(this.token, Math.round(volume * 100));\n      await this.syncDevice();\n    } else if (this.player) {\n      await this.player.setVolume(volume);\n    }\n\n    this.updateState({ volume });\n  };\n\n  private syncDevice = async () => {\n    if (!this.isMounted) {\n      return;\n    }\n\n    const { deviceId } = this.state;\n\n    try {\n      const player: SpotifyPlayerStatus = await getPlaybackState(this.token);\n      let track = this.emptyTrack;\n\n      if (!player) {\n        throw new Error('No player');\n      }\n\n      /* istanbul ignore else */\n      if (player.item) {\n        track = {\n          artists: player.item.artists,\n          durationMs: player.item.duration_ms,\n          id: player.item.id,\n          image: getAlbumImage(player.item.album),\n          name: player.item.name,\n          uri: player.item.uri,\n        };\n      }\n\n      this.updateState({\n        error: '',\n        errorType: null,\n        isActive: true,\n        isPlaying: player.is_playing,\n        nextTracks: [],\n        previousTracks: [],\n        progressMs: player.item ? player.progress_ms : 0,\n        status: STATUS.READY,\n        track,\n        volume: parseVolume(player.device.volume_percent),\n      });\n    } catch (error: any) {\n      const state = {\n        isActive: false,\n        isPlaying: false,\n        position: 0,\n        track: this.emptyTrack,\n      };\n\n      if (deviceId) {\n        this.updateState({\n          currentDeviceId: deviceId,\n          ...state,\n        });\n\n        return;\n      }\n\n      this.updateState({\n        error: error.message,\n        errorType: ERROR_TYPE.PLAYER,\n        status: STATUS.ERROR,\n        ...state,\n      });\n    }\n  };\n\n  private async toggleSyncInterval(shouldSync: boolean) {\n    const { syncExternalDeviceInterval } = this.props;\n\n    try {\n      if (this.isExternalPlayer && shouldSync && !this.playerSyncInterval) {\n        await this.syncDevice();\n\n        clearInterval(this.playerSyncInterval);\n        this.playerSyncInterval = window.setInterval(\n          this.syncDevice,\n          syncExternalDeviceInterval! * 1000,\n        );\n      }\n\n      if ((!shouldSync || !this.isExternalPlayer) && this.playerSyncInterval) {\n        clearInterval(this.playerSyncInterval);\n        this.playerSyncInterval = undefined;\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  }\n\n  private toggleProgressBar() {\n    const { isPlaying } = this.state;\n\n    /* istanbul ignore else */\n    if (isPlaying) {\n      /* istanbul ignore else */\n      if (!this.playerProgressInterval) {\n        this.playerProgressInterval = window.setInterval(\n          this.updateSeekBar,\n          this.seekUpdateInterval,\n        );\n      }\n    } else if (this.playerProgressInterval) {\n      clearInterval(this.playerProgressInterval);\n      this.playerProgressInterval = undefined;\n    }\n  }\n\n  private toggleOffset = async () => {\n    const { currentDeviceId } = this.state;\n    const { offset, uris } = this.props;\n\n    if (typeof offset === 'number' && Array.isArray(uris)) {\n      await play(this.token, { deviceId: currentDeviceId, offset, uris });\n    }\n  };\n\n  private togglePlay = async (init = false) => {\n    const { currentDeviceId, isPlaying, needsUpdate } = this.state;\n    const { offset, uris } = this.props;\n    const shouldInitialize = init || needsUpdate;\n    const playOptions = this.getPlayOptions(uris);\n\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        if (!isPlaying) {\n          await play(this.token, {\n            deviceId: currentDeviceId,\n            offset,\n            ...(shouldInitialize ? playOptions : undefined),\n          });\n        } else {\n          await pause(this.token);\n\n          this.updateState({ isPlaying: false });\n        }\n\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 300);\n      } else if (this.player) {\n        await this.player.activateElement();\n\n        const playerState = await this.player.getCurrentState();\n\n        // eslint-disable-next-line unicorn/prefer-ternary\n        if (\n          (!playerState && !!(playOptions.context_uri || playOptions.uris)) ||\n          (shouldInitialize && playerState && playerState.paused)\n        ) {\n          await play(this.token, {\n            deviceId: currentDeviceId,\n            offset,\n            ...(shouldInitialize ? playOptions : undefined),\n          });\n          await this.player.togglePlay();\n        } else {\n          await this.player.togglePlay();\n        }\n      }\n\n      if (needsUpdate) {\n        this.updateState({ needsUpdate: false });\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private updateSeekBar = async () => {\n    if (!this.isMounted) {\n      return;\n    }\n\n    const { progressMs, track } = this.state;\n\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        let position = progressMs / track.durationMs;\n\n        position = Number(((Number.isFinite(position) ? position : 0) * 100).toFixed(1));\n\n        this.updateState({\n          position,\n          progressMs: progressMs + this.seekUpdateInterval,\n        });\n      } else if (this.player) {\n        const state = await this.player.getCurrentState();\n\n        /* istanbul ignore else */\n        if (state) {\n          const progress = state.position;\n          const position = Number(\n            ((progress / state.track_window.current_track.duration_ms) * 100).toFixed(1),\n          );\n\n          this.updateState({\n            position,\n            progressMs: progress + this.seekUpdateInterval,\n          });\n        }\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private updateState: typeof this.setState = state => {\n    if (!this.isMounted) {\n      return;\n    }\n\n    this.setState(state);\n  };\n\n  public render() {\n    const {\n      currentDeviceId,\n      deviceId,\n      devices,\n      error,\n      isActive,\n      isMagnified,\n      isPlaying,\n      isUnsupported,\n      nextTracks,\n      playerPosition,\n      position,\n      previousTracks,\n      progressMs,\n      status,\n      track,\n      volume,\n    } = this.state;\n    const {\n      hideAttribution = false,\n      hideCoverArt = false,\n      inlineVolume = true,\n      layout = 'responsive',\n      showSaveIcon,\n      updateSavedStatus,\n    } = this.props;\n    const isReady = ([STATUS.READY, STATUS.UNSUPPORTED] as Status[]).includes(status);\n\n    const output: Record<string, ReactNode> = {\n      main: <Loader styles={this.styles} />,\n    };\n\n    if (isReady) {\n      /* istanbul ignore else */\n      if (!output.info) {\n        output.info = (\n          <Info\n            hideAttribution={hideAttribution}\n            hideCoverArt={hideCoverArt}\n            isActive={isActive}\n            layout={layout}\n            locale={this.locale}\n            onFavoriteStatusChange={this.handleFavoriteStatusChange}\n            showSaveIcon={showSaveIcon!}\n            styles={this.styles}\n            token={this.token}\n            track={track}\n            updateSavedStatus={updateSavedStatus}\n          />\n        );\n      }\n\n      output.devices = (\n        <Devices\n          currentDeviceId={currentDeviceId}\n          deviceId={deviceId}\n          devices={devices}\n          layout={layout}\n          locale={this.locale}\n          onClickDevice={this.handleClickDevice}\n          open={isUnsupported && !deviceId}\n          playerPosition={playerPosition}\n          styles={this.styles}\n        />\n      );\n\n      output.volume = currentDeviceId ? (\n        <Volume\n          inlineVolume={inlineVolume}\n          layout={layout}\n          locale={this.locale}\n          playerPosition={playerPosition}\n          setVolume={this.setVolume}\n          styles={this.styles}\n          volume={volume}\n        />\n      ) : null;\n\n      if (this.renderInlineActions) {\n        output.actions = (\n          <Actions layout={layout} styles={this.styles}>\n            {output.devices}\n            {output.volume}\n          </Actions>\n        );\n      }\n\n      output.controls = (\n        <Controls\n          devices={this.renderInlineActions ? null : output.devices}\n          durationMs={track.durationMs}\n          isExternalDevice={this.isExternalPlayer}\n          isMagnified={isMagnified}\n          isPlaying={isPlaying}\n          layout={layout}\n          locale={this.locale}\n          nextTracks={nextTracks}\n          onChangeRange={this.handleChangeRange}\n          onClickNext={this.handleClickNext}\n          onClickPrevious={this.handleClickPrevious}\n          onClickTogglePlay={this.handleClickTogglePlay}\n          onToggleMagnify={this.handleToggleMagnify}\n          position={position}\n          previousTracks={previousTracks}\n          progressMs={progressMs}\n          styles={this.styles}\n          volume={this.renderInlineActions ? null : output.volume}\n        />\n      );\n\n      output.main = (\n        <Wrapper layout={layout} styles={this.styles}>\n          {output.info}\n          {output.controls}\n          {output.actions}\n        </Wrapper>\n      );\n    } else if (output.info) {\n      output.main = output.info;\n    }\n\n    if (status === STATUS.ERROR) {\n      output.main = <ErrorMessage styles={this.styles}>{error}</ErrorMessage>;\n    }\n\n    return (\n      <Player ref={this.ref} data-ready={isReady} styles={this.styles}>\n        {output.main}\n      </Player>\n    );\n  }\n}\n\nexport * from './types';\nexport { ERROR_TYPE, STATUS, TYPE } from './constants';\n\nexport default SpotifyWebPlayer;\n","import { Locale, StylesOptions, StylesProps } from '~/types';\n\nexport function getLocale(locale?: Partial<Locale>): Locale {\n  return {\n    currentDevice: 'Current device',\n    devices: 'Devices',\n    next: 'Next',\n    otherDevices: 'Select other device',\n    pause: 'Pause',\n    play: 'Play',\n    previous: 'Previous',\n    removeTrack: 'Remove from your favorites',\n    saveTrack: 'Save to your favorites',\n    title: '{name} on SPOTIFY',\n    volume: 'Volume',\n    ...locale,\n  };\n}\n\nexport function getMergedStyles(styles?: StylesProps): StylesOptions {\n  return {\n    activeColor: '#1cb954',\n    altColor: '#ccc',\n    bgColor: '#fff',\n    color: '#333',\n    errorColor: '#ff0026',\n    height: 80,\n    loaderColor: '#ccc',\n    loaderSize: 32,\n    sliderColor: '#666',\n    sliderHandleBorderRadius: '50%',\n    sliderHandleColor: '#000',\n    sliderHeight: 4,\n    sliderTrackBorderRadius: 4,\n    sliderTrackColor: '#ccc',\n    trackArtistColor: '#666',\n    trackNameColor: '#333',\n    ...styles,\n  };\n}\n\nexport function getSpotifyLink(uri: string): string {\n  const [, type = '', id = ''] = uri.split(':');\n\n  return `https://open.spotify.com/${type}/${id}`;\n}\n\nexport function getSpotifyLinkTitle(name: string, locale: string): string {\n  return locale.replace('{name}', name);\n}\n\nexport function getSpotifyURIType(uri: string): string {\n  const [, type = ''] = uri.split(':');\n\n  return type;\n}\n","/* eslint-disable camelcase */\nimport { canUseDOM as canUseDOMBool } from 'exenv';\n\nimport { SpotifyTrack } from '~/types';\n\nexport const canUseDOM = () => canUseDOMBool;\n\nexport function convertTrack(track: Spotify.Track): SpotifyTrack {\n  const { album, artists, duration_ms, id, name, uri } = track;\n\n  return {\n    artists,\n    durationMs: duration_ms,\n    id: id ?? '',\n    image: getAlbumImage(album),\n    name,\n    uri,\n  };\n}\n\nexport function getAlbumImage(album: Spotify.Album) {\n  const maxWidth = Math.max(...album.images.map(d => d.width || 0));\n\n  return album.images.find(d => d.width === maxWidth)?.url || '';\n}\n\nexport function isNumber(value: unknown): value is number {\n  return typeof value === 'number';\n}\n\nexport function loadSpotifyPlayer(): Promise<any> {\n  return new Promise<void>((resolve, reject) => {\n    const scriptTag = document.getElementById('spotify-player');\n\n    if (!scriptTag) {\n      const script = document.createElement('script');\n\n      script.id = 'spotify-player';\n      script.type = 'text/javascript';\n      script.async = false;\n      script.defer = true;\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\n      script.onload = () => resolve();\n      script.onerror = (error: any) => reject(new Error(`loadScript: ${error.message}`));\n\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\n\nexport function millisecondsToTime(input: number) {\n  const seconds = Math.floor((input / 1000) % 60);\n  const minutes = Math.floor((input / (1000 * 60)) % 60);\n  const hours = Math.floor((input / (1000 * 60 * 60)) % 24);\n\n  const parts: string[] = [];\n\n  if (hours > 0) {\n    parts.push(\n      `${hours}`.padStart(2, '0'),\n      `${minutes}`.padStart(2, '0'),\n      `${seconds}`.padStart(2, '0'),\n    );\n  } else {\n    parts.push(`${minutes}`, `${seconds}`.padStart(2, '0'));\n  }\n\n  return parts.join(':');\n}\n\nexport function parseVolume(value?: unknown): number {\n  if (!isNumber(value)) {\n    return 1;\n  }\n\n  if (value > 1) {\n    return value / 100;\n  }\n\n  return value;\n}\n\n/**\n * Round decimal numbers\n */\nexport function round(number: number, digits = 2) {\n  const factor = 10 ** digits;\n\n  return Math.round(number * factor) / factor;\n}\n\nexport function validateURI(input: string): boolean {\n  const validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n\n  /* istanbul ignore else */\n  if (input && input.indexOf(':') > -1) {\n    const [key, type, id] = input.split(':');\n\n    /* istanbul ignore else */\n    if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","/* eslint-disable camelcase */\nimport { SpotifyPlayOptions } from '~/types';\n\nexport async function checkTracksStatus(token: string, tracks: string | string[]) {\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\n\n  return fetch(`https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => d.json());\n}\n\nexport async function getDevices(token: string) {\n  return fetch(`https://api.spotify.com/v1/me/player/devices`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => d.json());\n}\n\nexport async function getPlaybackState(token: string) {\n  return fetch(`https://api.spotify.com/v1/me/player`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => {\n    if (d.status === 204) {\n      return null;\n    }\n\n    return d.json();\n  });\n}\n\nexport async function pause(token: string) {\n  return fetch(`https://api.spotify.com/v1/me/player/pause`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function play(\n  token: string,\n  { context_uri, deviceId, offset = 0, uris }: SpotifyPlayOptions,\n) {\n  let body;\n\n  if (context_uri) {\n    const isArtist = context_uri.indexOf('artist') >= 0;\n    let position;\n\n    /* istanbul ignore else */\n    if (!isArtist) {\n      position = { position: offset };\n    }\n\n    body = JSON.stringify({ context_uri, offset: position });\n  } else if (Array.isArray(uris) && uris.length) {\n    body = JSON.stringify({ uris, offset: { position: offset } });\n  }\n\n  return fetch(`https://api.spotify.com/v1/me/player/play?device_id=${deviceId}`, {\n    body,\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function previous(token: string) {\n  return fetch(`https://api.spotify.com/v1/me/player/previous`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n  });\n}\n\nexport async function next(token: string) {\n  return fetch(`https://api.spotify.com/v1/me/player/next`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n  });\n}\n\nexport async function removeTracks(token: string, tracks: string | string[]) {\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\n\n  return fetch(`https://api.spotify.com/v1/me/tracks`, {\n    body: JSON.stringify(ids),\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'DELETE',\n  });\n}\n\nexport async function saveTracks(token: string, tracks: string | string[]) {\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\n\n  return fetch(`https://api.spotify.com/v1/me/tracks`, {\n    body: JSON.stringify({ ids }),\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function seek(token: string, position: number) {\n  return fetch(`https://api.spotify.com/v1/me/player/seek?position_ms=${position}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function setDevice(token: string, deviceId: string, shouldPlay?: boolean) {\n  return fetch(`https://api.spotify.com/v1/me/player`, {\n    body: JSON.stringify({ device_ids: [deviceId], play: shouldPlay }),\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function setVolume(token: string, volume: number) {\n  return fetch(`https://api.spotify.com/v1/me/player/volume?volume_percent=${volume}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n","import { memo, ReactNode } from 'react';\n\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, StyledProps, StylesOptions } from '~/types';\n\ninterface Props {\n  children: ReactNode;\n  layout: Layout;\n  styles: StylesOptions;\n}\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'flex-end',\n    'pointer-events': 'none',\n  },\n  ({ style }: StyledProps) => {\n    let styles: CssLikeObject = {\n      bottom: 0,\n      position: 'absolute',\n      right: 0,\n      width: 'auto',\n    };\n\n    if (style.layout === 'responsive') {\n      styles = {\n        '@media (max-width: 767px)': styles,\n        '@media (min-width: 768px)': {\n          height: px(style.h),\n        },\n      };\n    }\n\n    return {\n      height: px(32),\n      ...styles,\n    };\n  },\n  'ActionsRSWP',\n);\n\nfunction Actions(props: Props) {\n  const { children, layout, styles } = props;\n\n  return (\n    <Wrapper data-component-name=\"Actions\" style={{ h: styles.height, layout }}>\n      {children}\n    </Wrapper>\n  );\n}\n\nexport default memo(Actions);\n","/* eslint-disable import/extensions */\n/* tslint:disable:object-literal-sort-keys */\nimport { createElement, FunctionComponent } from 'react';\nimport { create, CssLikeObject, NanoRenderer } from 'nano-css';\n// @ts-ignore\nimport { addon as addonJSX } from 'nano-css/addon/jsx.js';\nimport { addon as addonKeyframes } from 'nano-css/addon/keyframes.js';\n// @ts-ignore\nimport { addon as addonNesting } from 'nano-css/addon/nesting.js';\nimport { addon as addonRule } from 'nano-css/addon/rule.js';\n// @ts-ignore\nimport { addon as addonStyle } from 'nano-css/addon/style.js';\n// @ts-ignore\nimport { addon as addonStyled } from 'nano-css/addon/styled.js';\n\nimport { StyledProps } from '~/types';\n\ninterface NanoExtended extends NanoRenderer {\n  styled: (\n    tag: string,\n  ) => (\n    styles: CssLikeObject,\n    dynamicTemplate?: (props: StyledProps) => CssLikeObject,\n    block?: string,\n  ) => FunctionComponent<Partial<StyledProps>>;\n}\n\nconst nano = create({ h: createElement });\n\naddonRule(nano);\naddonKeyframes(nano);\naddonJSX(nano);\naddonStyle(nano);\naddonStyled(nano);\naddonNesting(nano);\n\nconst { keyframes, put, styled } = nano as NanoExtended;\n\nexport const px = (value: string | number): string =>\n  typeof value === 'number' ? `${value}px` : value;\n\nexport { keyframes, put, styled };\n\nexport { type CssLikeObject } from 'nano-css';\n","import { memo } from 'react';\n\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, SpotifyTrack, StyledProps, StylesOptions } from '~/types';\n\nimport Next from './icons/Next';\nimport Pause from './icons/Pause';\nimport Play from './icons/Play';\nimport Previous from './icons/Previous';\nimport Slider from './Slider';\n\ninterface Props {\n  devices: JSX.Element | null;\n  durationMs: number;\n  isExternalDevice: boolean;\n  isMagnified: boolean;\n  isPlaying: boolean;\n  layout: Layout;\n  locale: Locale;\n  nextTracks: SpotifyTrack[];\n  onChangeRange: (position: number) => void;\n  onClickNext: () => void;\n  onClickPrevious: () => void;\n  onClickTogglePlay: () => void;\n  onToggleMagnify: () => void;\n  position: number;\n  previousTracks: SpotifyTrack[];\n  progressMs: number;\n  styles: StylesOptions;\n  volume: JSX.Element | null;\n}\n\nconst Wrapper = styled('div')(\n  {\n    '.rswp__volume': {\n      position: 'absolute',\n      right: 0,\n      top: 0,\n    },\n    '.rswp__devices': {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompactLayout = style.layout === 'compact';\n    const styles: CssLikeObject = {};\n\n    if (isCompactLayout) {\n      styles.padding = px(8);\n    } else {\n      styles.padding = `${px(4)} 0`;\n      styles['@media (max-width: 767px)'] = {\n        padding: px(8),\n      };\n    }\n\n    return styles;\n  },\n  'ControlsRSWP',\n);\n\nconst Buttons = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: px(8),\n    position: 'relative',\n\n    '> div': {\n      alignItems: 'center',\n      display: 'flex',\n      minWidth: px(32),\n      textAlign: 'center',\n    },\n  },\n  ({ style }: StyledProps) => ({\n    color: style.c,\n  }),\n  'ControlsButtonsRSWP',\n);\n\nconst Button = styled('button')(\n  {\n    alignItems: 'center',\n    display: 'inline-flex',\n    fontSize: px(16),\n    height: px(32),\n    justifyContent: 'center',\n    width: px(32),\n\n    '&.rswp__toggle': {\n      fontSize: px(32),\n      width: px(48),\n    },\n  },\n  () => ({}),\n  'ControlsButtonRSWP',\n);\n\nfunction Controls(props: Props) {\n  const {\n    devices,\n    durationMs,\n    isExternalDevice,\n    isMagnified,\n    isPlaying,\n    layout,\n    locale,\n    nextTracks,\n    onChangeRange,\n    onClickNext,\n    onClickPrevious,\n    onClickTogglePlay,\n    onToggleMagnify,\n    position,\n    previousTracks,\n    progressMs,\n    styles,\n    volume,\n  } = props;\n\n  const { color } = styles;\n\n  return (\n    <Wrapper data-component-name=\"Controls\" data-playing={isPlaying} style={{ layout }}>\n      <Buttons style={{ c: color }}>\n        {devices && <div className=\"rswp__devices\">{devices}</div>}\n        <div>\n          {(!!previousTracks.length || isExternalDevice) && (\n            <Button\n              aria-label={locale.previous}\n              onClick={onClickPrevious}\n              title={locale.previous}\n              type=\"button\"\n            >\n              <Previous />\n            </Button>\n          )}\n        </div>\n        <div>\n          <Button\n            aria-label={isPlaying ? locale.pause : locale.play}\n            className=\"rswp__toggle\"\n            onClick={onClickTogglePlay}\n            title={isPlaying ? locale.pause : locale.play}\n            type=\"button\"\n          >\n            {isPlaying ? <Pause /> : <Play />}\n          </Button>\n        </div>\n        <div>\n          {(!!nextTracks.length || isExternalDevice) && (\n            <Button\n              aria-label={locale.next}\n              onClick={onClickNext}\n              title={locale.next}\n              type=\"button\"\n            >\n              <Next />\n            </Button>\n          )}\n        </div>\n        {volume && <div className=\"rswp__volume\">{volume}</div>}\n      </Buttons>\n      <Slider\n        durationMs={durationMs}\n        isMagnified={isMagnified}\n        onChangeRange={onChangeRange}\n        onToggleMagnify={onToggleMagnify}\n        position={position}\n        progressMs={progressMs}\n        styles={styles}\n      />\n    </Wrapper>\n  );\n}\n\nexport default memo(Controls);\n","export default function Next(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M53.486 0a3.2 3.2 0 0 0-3.2 3.2v23.543L4.8.489A3.2 3.2 0 0 0 0 3.255V60.74a3.2 3.2 0 0 0 4.8 2.774l45.486-26.262V60.8a3.2 3.2 0 0 0 3.2 3.2H60.8a3.2 3.2 0 0 0 3.2-3.2V3.2A3.2 3.2 0 0 0 60.8 0h-7.314Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function Pause(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm-5.4 18h-5.2a1.4 1.4 0 0 0-1.4 1.4v25.2a1.4 1.4 0 0 0 1.4 1.4h5.2a1.4 1.4 0 0 0 1.4-1.4V19.4a1.4 1.4 0 0 0-1.4-1.4Zm16 0h-5.2a1.4 1.4 0 0 0-1.4 1.4v25.2a1.4 1.4 0 0 0 1.4 1.4h5.2a1.4 1.4 0 0 0 1.4-1.4V19.4a1.4 1.4 0 0 0-1.4-1.4Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function Play(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm-7.61 18.188c-.435.251-.702.715-.701 1.216v25.194a1.402 1.402 0 0 0 2.104 1.214L47.61 33.214a1.402 1.402 0 0 0 0-2.428L25.793 18.188c-.435-.25-.97-.25-1.404 0Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function Previous(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M10.514 0a3.2 3.2 0 0 1 3.2 3.2v23.543L59.2.489A3.2 3.2 0 0 1 64 3.255V60.74a3.2 3.2 0 0 1-4.8 2.774L13.714 37.253V60.8a3.2 3.2 0 0 1-3.2 3.2H3.2A3.2 3.2 0 0 1 0 60.8V3.2A3.2 3.2 0 0 1 3.2 0h7.314Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { memo } from 'react';\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\n\nimport { millisecondsToTime } from '~/modules/helpers';\nimport { px, styled } from '~/modules/styled';\n\nimport { StyledProps, StylesOptions } from '~/types';\n\ninterface Props {\n  durationMs: number;\n  isMagnified: boolean;\n  onChangeRange: (position: number) => void;\n  onToggleMagnify: () => void;\n  position: number;\n  progressMs: number;\n  styles: StylesOptions;\n}\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    fontSize: px(12),\n    transition: 'height 0.3s',\n    zIndex: 10,\n  },\n  ({ style }: StyledProps) => ({\n    '[class^=\"rswp_\"]': {\n      color: style.c,\n      lineHeight: 1,\n      minWidth: px(32),\n    },\n\n    '.rswp_progress': {\n      marginRight: px(style.sliderHeight + 6),\n      textAlign: 'right',\n    },\n\n    '.rswp_duration': {\n      marginLeft: px(style.sliderHeight + 6),\n      textAlign: 'left',\n    },\n  }),\n  'SliderRSWP',\n);\n\nfunction Slider(props: Props) {\n  const { durationMs, isMagnified, onChangeRange, onToggleMagnify, position, progressMs, styles } =\n    props;\n\n  const handleChangeRange = async ({ x }: RangeSliderPosition) => {\n    onChangeRange(x);\n  };\n\n  const handleSize = styles.sliderHeight + 6;\n\n  return (\n    <Wrapper\n      data-component-name=\"Slider\"\n      data-position={position}\n      onMouseEnter={onToggleMagnify}\n      onMouseLeave={onToggleMagnify}\n      style={{\n        c: styles.color,\n        sliderHeight: styles.sliderHeight,\n      }}\n    >\n      <div className=\"rswp_progress\">{millisecondsToTime(progressMs)}</div>\n      <RangeSlider\n        axis=\"x\"\n        className=\"slider\"\n        data-component-name=\"progress-bar\"\n        onChange={handleChangeRange}\n        styles={{\n          options: {\n            thumbBorder: 0,\n            thumbBorderRadius: styles.sliderHandleBorderRadius,\n            thumbColor: styles.sliderHandleColor,\n            thumbSize: isMagnified ? handleSize + 4 : handleSize,\n            height: isMagnified ? styles.sliderHeight + 4 : styles.sliderHeight,\n            padding: 0,\n            rangeColor: styles.sliderColor,\n            trackBorderRadius: styles.sliderTrackBorderRadius,\n            trackColor: styles.sliderTrackColor,\n          },\n        }}\n        x={position}\n        xMax={100}\n        xMin={0}\n        xStep={0.1}\n      />\n      <div className=\"rswp_duration\">{millisecondsToTime(durationMs)}</div>\n    </Wrapper>\n  );\n}\n\nexport default memo(Slider);\n","import { MouseEvent, useCallback, useState } from 'react';\nimport { CssLikeObject } from 'nano-css';\n\nimport { px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, SpotifyDevice, StyledProps, StylesOptions } from '~/types';\n\nimport ClickOutside from './ClickOutside';\nimport DevicesIcon from './icons/Devices';\nimport DevicesComputerIcon from './icons/DevicesComputer';\nimport DevicesMobileIcon from './icons/DevicesMobile';\nimport DevicesSpeakerIcon from './icons/DevicesSpeaker';\n\ninterface Props {\n  currentDeviceId?: string;\n  deviceId?: string;\n  devices: SpotifyDevice[];\n  layout: Layout;\n  locale: Locale;\n  onClickDevice: (deviceId: string) => any;\n  open: boolean;\n  playerPosition: string;\n  styles: StylesOptions;\n}\n\ninterface DeviceList {\n  currentDevice: SpotifyDevice | null;\n  otherDevices: SpotifyDevice[];\n}\n\nconst Wrapper = styled('div')(\n  {\n    'pointer-events': 'all',\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    position: 'relative',\n    zIndex: 20,\n\n    '> div': {\n      backgroundColor: '#000',\n      borderRadius: px(8),\n      color: '#fff',\n      filter: 'drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))',\n      fontSize: px(14),\n      padding: px(16),\n      position: 'absolute',\n      textAlign: 'left',\n\n      '> p': {\n        fontWeight: 'bold',\n        marginBottom: px(8),\n        marginTop: px(16),\n        whiteSpace: 'nowrap',\n      },\n\n      button: {\n        alignItems: 'center',\n        display: 'flex',\n        whiteSpace: 'nowrap',\n\n        '&:not(:last-of-type)': {\n          marginBottom: px(12),\n        },\n\n        span: {\n          display: 'inline-block',\n          marginLeft: px(4),\n        },\n      },\n\n      '> span': {\n        background: 'transparent',\n        borderLeft: `6px solid transparent`,\n        borderRight: `6px solid transparent`,\n        content: '\"\"',\n        display: 'block',\n        height: 0,\n        position: 'absolute',\n        width: 0,\n      },\n    },\n\n    '> button': {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: px(24),\n      height: px(32),\n      justifyContent: 'center',\n      width: px(32),\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompact = style.layout === 'compact';\n    const divStyles: CssLikeObject = isCompact\n      ? {\n          bottom: '120%',\n          left: 0,\n        }\n      : {\n          [style.p]: '120%',\n          left: 0,\n\n          '@media (min-width: 768px)': {\n            left: 'auto',\n            right: 0,\n          },\n        };\n    const spanStyles: CssLikeObject = isCompact\n      ? {\n          bottom: `-${px(6)}`,\n          borderTop: `6px solid #000`,\n          left: px(10),\n        }\n      : {\n          [style.p === 'top' ? 'border-bottom' : 'border-top']: `6px solid #000`,\n          [style.p]: '-6px',\n          left: px(10),\n\n          '@media (min-width: 768px)': {\n            left: 'auto',\n            right: px(10),\n          },\n        };\n\n    return {\n      '> button': {\n        color: style.c,\n      },\n\n      '> div': {\n        ...divStyles,\n\n        '> span': spanStyles,\n      },\n    };\n  },\n  'DevicesRSWP',\n);\n\nconst ListHeader = styled('div')({\n  p: {\n    whiteSpace: 'nowrap',\n\n    '&:nth-of-type(1)': {\n      fontWeight: 'bold',\n      marginBottom: px(8),\n    },\n\n    '&:nth-of-type(2)': {\n      alignItems: 'center',\n      display: 'flex',\n\n      span: {\n        display: 'inline-block',\n        marginLeft: px(4),\n      },\n    },\n  },\n});\n\nfunction getDeviceIcon(type: string) {\n  if (type.toLowerCase().includes('speaker')) {\n    return <DevicesSpeakerIcon />;\n  }\n\n  if (type.toLowerCase().includes('computer')) {\n    return <DevicesComputerIcon />;\n  }\n\n  return <DevicesMobileIcon />;\n}\n\nexport default function Devices(props: Props) {\n  const {\n    currentDeviceId,\n    deviceId,\n    devices,\n    layout,\n    locale,\n    onClickDevice,\n    open,\n    playerPosition,\n    styles: { color },\n  } = props;\n  const [isOpen, setOpen] = useState(open);\n\n  const handleClickSetDevice = (event: MouseEvent<HTMLElement>) => {\n    const { dataset } = event.currentTarget;\n\n    /* istanbul ignore else */\n    if (dataset.id) {\n      onClickDevice(dataset.id);\n\n      setOpen(false);\n    }\n  };\n\n  const handleClickToggleList = useCallback(() => {\n    setOpen(s => !s);\n  }, []);\n\n  const { currentDevice, otherDevices } = devices.reduce<DeviceList>(\n    (acc, device) => {\n      if (device.id === currentDeviceId) {\n        acc.currentDevice = device;\n      } else {\n        acc.otherDevices.push(device);\n      }\n\n      return acc;\n    },\n    { currentDevice: null, otherDevices: [] },\n  );\n\n  let icon = <DevicesIcon />;\n\n  if (deviceId && currentDevice && currentDevice.id !== deviceId) {\n    icon = getDeviceIcon(currentDevice.type);\n  }\n\n  return (\n    <ClickOutside isActive={isOpen} onClick={handleClickToggleList}>\n      <Wrapper\n        data-component-name=\"Devices\"\n        data-device-id={currentDeviceId}\n        style={{\n          c: color,\n          layout,\n          p: playerPosition,\n        }}\n      >\n        {!!devices.length && (\n          <>\n            {isOpen && (\n              <div>\n                {currentDevice && (\n                  <ListHeader>\n                    <p>{locale.currentDevice}</p>\n                    <p>\n                      {getDeviceIcon(currentDevice.type)}\n                      <span>{currentDevice.name}</span>\n                    </p>\n                  </ListHeader>\n                )}\n                {!!otherDevices.length && (\n                  <>\n                    <p>{locale.otherDevices}</p>\n                    {otherDevices.map(device => (\n                      <button\n                        key={device.id}\n                        aria-label={device.name}\n                        data-id={device.id}\n                        onClick={handleClickSetDevice}\n                        type=\"button\"\n                      >\n                        {getDeviceIcon(device.type)}\n                        <span>{device.name}</span>\n                      </button>\n                    ))}\n                  </>\n                )}\n                <span />\n              </div>\n            )}\n            <button\n              aria-label={locale.devices}\n              onClick={handleClickToggleList}\n              title={locale.devices}\n              type=\"button\"\n            >\n              {icon}\n            </button>\n          </>\n        )}\n      </Wrapper>\n    </ClickOutside>\n  );\n}\n","import { memo, ReactNode, useEffect, useRef } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  isActive: boolean;\n  onClick: () => void;\n}\n\nfunction ClickOutside(props: Props) {\n  const { children, isActive, onClick, ...rest } = props;\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const isTouch = useRef(false);\n\n  const handleClick = useRef((event: MouseEvent | TouchEvent) => {\n    const container = containerRef.current;\n\n    if (event.type === 'touchend') {\n      isTouch.current = true;\n    }\n\n    if (event.type === 'click' && isTouch.current) {\n      return;\n    }\n\n    if (container && !container.contains(event.target as Node)) {\n      onClick();\n    }\n  });\n\n  useEffect(() => {\n    const { current } = handleClick;\n\n    if (isActive) {\n      document.addEventListener('touchend', current, true);\n      document.addEventListener('click', current, true);\n    }\n\n    return () => {\n      document.removeEventListener('touchend', current, true);\n      document.removeEventListener('click', current, true);\n    };\n  }, [isActive]);\n\n  return (\n    <div ref={containerRef} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nexport default memo(ClickOutside);\n","export default function DevicesIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M57 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H31a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26ZM16 54v6H8v-6h8Zm41-44H31a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM44 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM16 4v6H7a1 1 0 0 0-1 1v26a1 1 0 0 0 1 1h9v6H7a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h9Zm28 12a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function DevicesComputerIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M7.226 10.323a7.228 7.228 0 0 1 7.226-7.226h35.096a7.228 7.228 0 0 1 7.226 7.226V37.16a7.226 7.226 0 0 1-7.226 7.226H14.452a7.226 7.226 0 0 1-7.226-7.226V10.323Zm7.226-1.033c-.57 0-1.033.462-1.033 1.033V37.16c0 .57.463 1.033 1.033 1.033h35.096c.57 0 1.033-.463 1.033-1.033V10.323c0-.57-.463-1.033-1.033-1.033H14.452ZM0 57.806a3.097 3.097 0 0 1 3.097-3.096h57.806a3.097 3.097 0 0 1 0 6.193H3.097A3.097 3.097 0 0 1 0 57.806Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function DevicesMobileIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M44.8 0a9.6 9.6 0 0 1 9.6 9.6v44.8a9.6 9.6 0 0 1-9.6 9.6H19.2a9.6 9.6 0 0 1-9.6-9.6V9.6A9.6 9.6 0 0 1 19.2 0h25.6Zm0 6.4H19.2A3.2 3.2 0 0 0 16 9.6v44.8a3.2 3.2 0 0 0 3.2 3.2h25.6a3.2 3.2 0 0 0 3.2-3.2V9.6a3.2 3.2 0 0 0-3.2-3.2ZM32 43.2a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function DevicesSpeakerIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M45 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H19a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26Zm0 6H19a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM32 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0-16a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { px, styled } from '~/modules/styled';\n\nimport { ComponentsProps, StyledProps } from '~/types';\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    textAlign: 'center',\n    width: '100%',\n  },\n  ({ style }: StyledProps) => ({\n    backgroundColor: style.bgColor,\n    borderTop: `1px solid ${style.errorColor}`,\n    color: style.errorColor,\n    height: px(style.h),\n  }),\n  'ErrorRSWP',\n);\n\nexport default function ErrorMessage({\n  children,\n  styles: { bgColor, errorColor, height },\n}: ComponentsProps) {\n  return (\n    <Wrapper data-component-name=\"ErrorMessage\" style={{ bgColor, errorColor, h: height }}>\n      {children}\n    </Wrapper>\n  );\n}\n","import { memo, ReactNode, useEffect, useRef, useState } from 'react';\nimport { fade } from 'colorizr';\n\nimport { getSpotifyLink, getSpotifyLinkTitle } from '~/modules/getters';\nimport { usePrevious } from '~/modules/hooks';\nimport { checkTracksStatus, removeTracks, saveTracks } from '~/modules/spotify';\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, SpotifyTrack, StyledProps, StylesOptions } from '~/types';\n\nimport Favorite from './icons/Favorite';\nimport FavoriteOutline from './icons/FavoriteOutline';\nimport SpotifyLogo from './SpotifyLogo';\n\ninterface Props {\n  hideAttribution: boolean;\n  hideCoverArt: boolean;\n  isActive: boolean;\n  layout: Layout;\n  locale: Locale;\n  onFavoriteStatusChange: (status: boolean) => any;\n  showSaveIcon: boolean;\n  styles: StylesOptions;\n  token: string;\n  track: SpotifyTrack;\n  updateSavedStatus?: (fn: (status: boolean) => any) => any;\n}\n\nconst imageSize = 64;\nconst iconSize = 32;\n\nconst Wrapper = styled('div')(\n  {\n    textAlign: 'left',\n\n    '> a': {\n      display: 'inline-flex',\n      textDecoration: 'none',\n      minHeigth: px(64),\n      minWidth: px(64),\n\n      '&:hover': {\n        textDecoration: 'underline',\n      },\n    },\n\n    button: {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: px(16),\n      height: px(iconSize + 8),\n      justifyContent: 'center',\n      width: px(iconSize),\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompactLayout = style.layout === 'compact';\n    const styles: CssLikeObject = {};\n\n    if (isCompactLayout) {\n      styles.borderBottom = `1px solid ${fade(style.c, 40)}`;\n      styles['> a'] = {\n        display: 'flex',\n        margin: '0 auto',\n        maxWidth: px(640),\n        paddingBottom: '100%',\n        position: 'relative',\n\n        img: {\n          display: 'block',\n          bottom: 0,\n          left: 0,\n          maxWidth: '100%',\n          position: 'absolute',\n          right: 0,\n          top: 0,\n        },\n      };\n    } else {\n      styles.alignItems = 'center';\n      styles.display = 'flex';\n      styles.minHeight = px(80);\n      styles['@media (max-width: 767px)'] = {\n        borderBottom: `1px solid ${fade(style.c, 40)}`,\n        paddingLeft: px(8),\n        display: 'none',\n        width: '100%',\n      };\n      styles.img = {\n        height: px(imageSize),\n        width: px(imageSize),\n      };\n      styles['&.rswp__active'] = {\n        '@media (max-width: 767px)': {\n          display: 'flex',\n        },\n      };\n    }\n\n    return {\n      button: {\n        color: style.c,\n\n        '&.rswp__active': {\n          color: style.activeColor,\n        },\n      },\n\n      ...styles,\n    };\n  },\n  'InfoRSWP',\n);\n\nconst ContentWrapper = styled('div')(\n  {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n\n    '> a': {\n      fontSize: px(22),\n      marginTop: px(4),\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompactLayout = style.layout === 'compact';\n    const styles: CssLikeObject = {};\n\n    if (isCompactLayout) {\n      styles.padding = px(8);\n      styles.width = '100%';\n    } else {\n      styles.minHeight = px(imageSize);\n\n      if (!style.hideCoverArt) {\n        styles.marginLeft = px(8);\n        styles.width = `calc(100% - ${px(imageSize + 8)})`;\n      } else {\n        styles.width = '100%';\n      }\n    }\n\n    return styles;\n  },\n  'ContentWrapperRSWP',\n);\n\nconst Content = styled('div')(\n  {\n    display: 'flex',\n    justifyContent: 'start',\n\n    '[data-type=\"title-artist-wrapper\"]': {\n      overflow: 'hidden',\n\n      div: {\n        marginLeft: `-${px(8)}`,\n        whiteSpace: 'nowrap',\n      },\n    },\n\n    p: {\n      fontSize: px(14),\n      lineHeight: 1.3,\n      paddingLeft: px(8),\n      paddingRight: px(8),\n      width: '100%',\n\n      '&:nth-of-type(1)': {\n        alignItems: 'center',\n        display: 'inline-flex',\n      },\n\n      '&:nth-of-type(2)': {\n        fontSize: px(12),\n      },\n    },\n\n    span: {\n      display: 'inline-block',\n    },\n  },\n  ({ style }: StyledProps) => {\n    return {\n      '[data-type=\"title-artist-wrapper\"]': {\n        color: style.trackNameColor,\n        maxWidth: `calc(100% - ${px(style.showSaveIcon ? iconSize : 0)})`,\n\n        div: {\n          '-webkit-mask-image': `linear-gradient(90deg,transparent 0, ${style.bgColor} 6px, ${style.bgColor} calc(100% - 12px),transparent)`,\n        },\n      },\n      p: {\n        '&:nth-of-type(1)': {\n          color: style.trackNameColor,\n\n          a: {\n            color: style.trackNameColor,\n          },\n        },\n\n        '&:nth-of-type(2)': {\n          color: style.trackArtistColor,\n\n          a: {\n            color: style.trackArtistColor,\n          },\n        },\n      },\n    };\n  },\n  'ContentRSWP',\n);\n\nfunction Info(props: Props) {\n  const {\n    hideAttribution,\n    hideCoverArt,\n    isActive,\n    layout,\n    locale,\n    onFavoriteStatusChange,\n    showSaveIcon,\n    styles: { activeColor, bgColor, color, height, trackArtistColor, trackNameColor },\n    token,\n    track: { artists = [], id, image, name, uri },\n    updateSavedStatus,\n  } = props;\n  const [isSaved, setIsSaved] = useState(false);\n  const isMounted = useRef(false);\n  const previousId = usePrevious(id);\n  const isCompactLayout = layout === 'compact';\n\n  const updateState = (state: boolean) => {\n    if (!isMounted.current) {\n      return;\n    }\n\n    setIsSaved(state);\n  };\n\n  const setStatus = async () => {\n    if (!isMounted.current) {\n      return;\n    }\n\n    if (updateSavedStatus && id) {\n      updateSavedStatus((newStatus: boolean) => {\n        updateState(newStatus);\n      });\n    }\n\n    const status = await checkTracksStatus(token, id);\n    const [isFavorite] = status || [false];\n\n    updateState(isFavorite);\n    onFavoriteStatusChange(isSaved);\n  };\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    if (showSaveIcon && id) {\n      setStatus();\n    }\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (showSaveIcon && previousId !== id && id) {\n      updateState(false);\n\n      setStatus();\n    }\n  });\n\n  const handleClickIcon = async () => {\n    if (isSaved) {\n      await removeTracks(token, id);\n      updateState(false);\n    } else {\n      await saveTracks(token, id);\n      updateState(true);\n    }\n\n    onFavoriteStatusChange(!isSaved);\n  };\n\n  const title = getSpotifyLinkTitle(name, locale.title);\n  let favorite;\n\n  /* istanbul ignore else */\n  if (showSaveIcon && id) {\n    favorite = (\n      <button\n        aria-label={isSaved ? locale.removeTrack : locale.saveTrack}\n        className={isSaved ? 'rswp__active' : undefined}\n        onClick={handleClickIcon}\n        title={isSaved ? locale.removeTrack : locale.saveTrack}\n        type=\"button\"\n      >\n        {isSaved ? <Favorite /> : <FavoriteOutline />}\n      </button>\n    );\n  }\n\n  const content: Record<string, ReactNode> = {};\n  const classes = [];\n\n  if (isActive) {\n    classes.push('rswp__active');\n  }\n\n  if (isCompactLayout) {\n    content.image = <img alt={name} src={image} />;\n  }\n\n  if (!id) {\n    return <div />;\n  }\n\n  return (\n    <Wrapper\n      className={classes.join(' ')}\n      data-component-name=\"Info\"\n      style={{\n        activeColor,\n        c: color,\n        h: height,\n        layout,\n        showSaveIcon,\n      }}\n    >\n      {!hideCoverArt && (\n        <a\n          aria-label={title}\n          href={getSpotifyLink(uri)}\n          rel=\"noreferrer\"\n          target=\"_blank\"\n          title={title}\n        >\n          <img alt={name} src={image} />\n        </a>\n      )}\n      <ContentWrapper\n        style={{\n          hideCoverArt,\n          layout,\n          showSaveIcon,\n        }}\n      >\n        {!!name && (\n          <Content\n            style={{\n              bgColor,\n              layout,\n              showSaveIcon,\n              trackArtistColor,\n              trackNameColor,\n            }}\n          >\n            <div data-type=\"title-artist-wrapper\">\n              <div>\n                <p>\n                  <span>\n                    <a\n                      aria-label={title}\n                      href={getSpotifyLink(uri)}\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                      title={title}\n                    >\n                      {name}\n                    </a>\n                  </span>\n                </p>\n                <p title={artists.map(d => d.name).join(', ')}>\n                  {artists.map((artist, index) => {\n                    const artistTitle = getSpotifyLinkTitle(artist.name, locale.title);\n\n                    return (\n                      <span key={artist.uri}>\n                        {index ? ', ' : ''}\n                        <a\n                          aria-label={artistTitle}\n                          href={getSpotifyLink(artist.uri)}\n                          rel=\"noreferrer\"\n                          target=\"_blank\"\n                          title={artistTitle}\n                        >\n                          {artist.name}\n                        </a>\n                      </span>\n                    );\n                  })}\n                </p>\n              </div>\n            </div>\n            {favorite}\n          </Content>\n        )}\n        {!hideAttribution && (\n          <a\n            aria-label=\"Play on Spotify\"\n            href={getSpotifyLink(uri)}\n            rel=\"noreferrer\"\n            target=\"_blank\"\n          >\n            <SpotifyLogo bgColor={bgColor} />\n          </a>\n        )}\n      </ContentWrapper>\n    </Wrapper>\n  );\n}\n\nexport default memo(Info);\n","import { useEffect, useRef, useState } from 'react';\n\nimport { canUseDOM } from '~/modules/helpers';\n\nexport function useMediaQuery(query: string): boolean {\n  const getMatches = (input: string): boolean => {\n    if (canUseDOM()) {\n      return window.matchMedia(input).matches;\n    }\n\n    return false;\n  };\n\n  const [matches, setMatches] = useState<boolean>(getMatches(query));\n\n  function handleChange() {\n    setMatches(getMatches(query));\n  }\n\n  useEffect(() => {\n    const matchMedia = window.matchMedia(query);\n\n    // Triggered at the first client-side load and if query changes\n    handleChange();\n\n    // Listen matchMedia\n    if (matchMedia.addListener) {\n      matchMedia.addListener(handleChange);\n    } else {\n      matchMedia.addEventListener('change', handleChange);\n    }\n\n    return () => {\n      if (matchMedia.removeListener) {\n        matchMedia.removeListener(handleChange);\n      } else {\n        matchMedia.removeEventListener('change', handleChange);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  return matches;\n}\n\nexport function usePrevious<T>(value: T): T {\n  const ref: any = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","export default function Favorite(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M63.673 16.52A17.676 17.676 0 0 0 49.197 2.563c-5.4-.861-10.891.852-14.844 4.63a3.43 3.43 0 0 1-4.672 0C22.956.689 12.305.62 5.498 7.039c-6.808 6.419-7.366 17.055-1.268 24.15l24.246 28.894a4.623 4.623 0 0 0 7.078 0L59.8 31.19a17.328 17.328 0 0 0 3.873-14.66v-.008Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function FavoriteOutline(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M5.944 7.206C13.271.3 24.723.34 31.999 7.3A18.924 18.924 0 0 1 48.02 2.32h.008a19.068 19.068 0 0 1 15.617 15.071v.013A18.759 18.759 0 0 1 59.47 33.26L37.573 59.353a7.288 7.288 0 0 1-8.642 1.916 7.276 7.276 0 0 1-2.498-1.912l-21.901-26.1c-6.55-7.671-5.93-19.131 1.408-26.051h.004Zm13.04 1.04a12.726 12.726 0 0 0-9.737 20.997l.021.02 21.905 26.105c.316.372.84.488 1.284.285.143-.066.27-.164.372-.285l21.934-26.137a12.565 12.565 0 0 0 2.808-10.625 12.875 12.875 0 0 0-10.534-10.17 12.714 12.714 0 0 0-10.785 3.37l-.029.029a6.198 6.198 0 0 1-8.444 0l-.037-.033a12.727 12.727 0 0 0-8.758-3.556Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { textColor } from 'colorizr';\n\ninterface Props {\n  bgColor: string;\n}\n\nexport default function SpotifyLogo({ bgColor, ...rest }: Props) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 512 160\" width=\"3.2em\" {...rest}>\n      <path\n        d=\"M79.655 0C35.664 0 0 35.663 0 79.654c0 43.993 35.664 79.653 79.655 79.653 43.996 0 79.656-35.66 79.656-79.653 0-43.988-35.66-79.65-79.657-79.65L79.655 0Zm36.53 114.884a4.963 4.963 0 0 1-6.83 1.646c-18.702-11.424-42.246-14.011-69.973-7.676a4.967 4.967 0 0 1-5.944-3.738 4.958 4.958 0 0 1 3.734-5.945c30.343-6.933 56.37-3.948 77.367 8.884a4.965 4.965 0 0 1 1.645 6.83Zm9.75-21.689c-1.799 2.922-5.622 3.845-8.543 2.047-21.41-13.16-54.049-16.972-79.374-9.284a6.219 6.219 0 0 1-7.75-4.138 6.22 6.22 0 0 1 4.141-7.745c28.929-8.778 64.892-4.526 89.48 10.583 2.92 1.798 3.843 5.622 2.045 8.538Zm.836-22.585C101.1 55.362 58.742 53.96 34.231 61.4c-3.936 1.194-8.098-1.028-9.29-4.964a7.453 7.453 0 0 1 4.965-9.294c28.137-8.542 74.912-6.892 104.469 10.655a7.441 7.441 0 0 1 2.606 10.209c-2.092 3.54-6.677 4.707-10.206 2.605h-.004Zm89.944 2.922c-13.754-3.28-16.198-5.581-16.198-10.418 0-4.57 4.299-7.645 10.7-7.645 6.202 0 12.347 2.336 18.796 7.143.19.145.437.203.675.165a.888.888 0 0 0 .6-.367l6.715-9.466a.903.903 0 0 0-.171-1.225c-7.676-6.157-16.313-9.15-26.415-9.15-14.848 0-25.225 8.911-25.225 21.662 0 13.673 8.95 18.515 24.417 22.252 13.155 3.031 15.38 5.57 15.38 10.11 0 5.032-4.49 8.161-11.718 8.161-8.028 0-14.582-2.71-21.906-9.046a.932.932 0 0 0-.656-.218.89.89 0 0 0-.619.313l-7.533 8.96a.906.906 0 0 0 .086 1.256c8.522 7.61 19.004 11.624 30.323 11.624 16 0 26.339-8.742 26.339-22.277.028-11.421-6.81-17.746-23.561-21.821l-.029-.013Zm59.792-13.564c-6.934 0-12.622 2.732-17.321 8.33v-6.3c0-.498-.4-.903-.894-.903h-12.318a.899.899 0 0 0-.894.902v70.009c0 .494.4.903.894.903h12.318a.901.901 0 0 0 .894-.903v-22.097c4.699 5.26 10.387 7.838 17.32 7.838 12.89 0 25.94-9.92 25.94-28.886.019-18.97-13.032-28.894-25.93-28.894l-.01.001Zm11.614 28.893c0 9.653-5.945 16.397-14.468 16.397-8.418 0-14.772-7.048-14.772-16.397 0-9.35 6.354-16.397 14.772-16.397 8.38 0 14.468 6.893 14.468 16.396Zm47.759-28.893c-16.598 0-29.601 12.78-29.601 29.1 0 16.143 12.917 28.784 29.401 28.784 16.655 0 29.696-12.736 29.696-28.991 0-16.2-12.955-28.89-29.496-28.89v-.003Zm0 45.385c-8.827 0-15.485-7.096-15.485-16.497 0-9.444 6.43-16.298 15.285-16.298 8.884 0 15.58 7.093 15.58 16.504 0 9.443-6.468 16.291-15.38 16.291Zm64.937-44.258h-13.554V47.24c0-.497-.4-.902-.894-.902H374.05a.906.906 0 0 0-.904.902v13.855h-5.916a.899.899 0 0 0-.894.902v10.584a.9.9 0 0 0 .894.903h5.916v27.39c0 11.062 5.508 16.674 16.38 16.674 4.413 0 8.075-.914 11.528-2.873a.88.88 0 0 0 .457-.78v-10.083a.896.896 0 0 0-.428-.76.873.873 0 0 0-.876-.039c-2.368 1.19-4.66 1.741-7.229 1.741-3.947 0-5.716-1.798-5.716-5.812V73.49h13.554a.899.899 0 0 0 .894-.903V62.003a.873.873 0 0 0-.884-.903l-.01-.005Zm47.217.054v-1.702c0-5.006 1.921-7.238 6.22-7.238 2.57 0 4.633.51 6.945 1.28a.895.895 0 0 0 1.18-.858l-.001-10.377a.891.891 0 0 0-.637-.865c-2.435-.726-5.555-1.47-10.235-1.47-11.367 0-17.388 6.405-17.388 18.516v2.606h-5.916a.906.906 0 0 0-.904.902v10.638c0 .497.41.903.904.903h5.916v42.237c0 .504.41.904.904.904h12.308c.504 0 .904-.4.904-.904V73.487h11.5l17.616 42.234c-1.998 4.433-3.967 5.317-6.65 5.317-2.168 0-4.46-.646-6.79-1.93a.98.98 0 0 0-.714-.067.896.896 0 0 0-.533.485l-4.175 9.16a.9.9 0 0 0 .39 1.17c4.356 2.359 8.284 3.367 13.145 3.367 9.093 0 14.125-4.242 18.548-15.637l21.364-55.204a.88.88 0 0 0-.095-.838.878.878 0 0 0-.733-.392h-12.822a.901.901 0 0 0-.856.605l-13.136 37.509-14.382-37.534a.898.898 0 0 0-.837-.58h-21.04v-.003Zm-27.375-.054h-12.318a.907.907 0 0 0-.903.902v53.724c0 .504.409.904.903.904h12.318c.495 0 .904-.4.904-.904v-53.72a.9.9 0 0 0-.904-.903v-.003Zm-6.088-24.464c-4.88 0-8.836 3.95-8.836 8.828a8.835 8.835 0 0 0 8.836 8.836c4.88 0 8.827-3.954 8.827-8.836a8.83 8.83 0 0 0-8.827-8.828Z\"\n        fill={textColor(bgColor)}\n      />\n    </svg>\n  );\n}\n","import { keyframes, px, styled } from '~/modules/styled';\n\nimport { ComponentsProps, StyledProps } from '~/types';\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    jsutifyContent: 'center',\n    position: 'relative',\n\n    '> div': {\n      borderRadius: '50%',\n      borderStyle: 'solid',\n      borderWidth: 0,\n      boxSizing: 'border-box',\n      height: 0,\n      left: '50%',\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(-50%, -50%)',\n      width: 0,\n    },\n  },\n  ({ style }: StyledProps) => {\n    const pulse = keyframes!({\n      '0%': {\n        height: 0,\n        width: 0,\n      },\n\n      '30%': {\n        borderWidth: px(8),\n        height: px(style.loaderSize),\n        opacity: 1,\n        width: px(style.loaderSize),\n      },\n\n      '100%': {\n        borderWidth: 0,\n        height: px(style.loaderSize),\n        opacity: 0,\n        width: px(style.loaderSize),\n      },\n    });\n\n    return {\n      height: px(style.h),\n\n      '> div': {\n        animation: `${pulse} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)`,\n        borderColor: style.loaderColor,\n        height: px(style.loaderSize),\n        width: px(style.loaderSize),\n      },\n    };\n  },\n  'LoaderRSWP',\n);\n\nexport default function Loader({ styles: { height, loaderColor, loaderSize } }: ComponentsProps) {\n  return (\n    <Wrapper data-component-name=\"Loader\" style={{ h: height, loaderColor, loaderSize }}>\n      <div />\n    </Wrapper>\n  );\n}\n","import { forwardRef } from 'react';\n\nimport { put, px } from '~/modules/styled';\n\nimport { ComponentsProps } from '~/types';\n\nput('.PlayerRSWP', {\n  boxSizing: 'border-box',\n  fontSize: 'inherit',\n  width: '100%',\n\n  '*': {\n    boxSizing: 'border-box',\n  },\n\n  button: {\n    appearance: 'none',\n    background: 'transparent',\n    border: 0,\n    borderRadius: 0,\n    color: 'inherit',\n    cursor: 'pointer',\n    display: 'inline-flex',\n    lineHeight: 1,\n    padding: 0,\n\n    ':focus': {\n      outlineColor: '#000',\n      outlineOffset: 3,\n    },\n  },\n\n  p: {\n    margin: 0,\n  },\n});\n\nconst Player = forwardRef<HTMLDivElement, ComponentsProps>(\n  ({ children, styles: { bgColor, height }, ...rest }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className=\"PlayerRSWP\"\n        data-component-name=\"Player\"\n        style={{ background: bgColor, minHeight: px(height) }}\n        {...rest}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nexport default Player;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\n\nimport { useMediaQuery, usePrevious } from '~/modules/hooks';\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, StyledProps, StylesOptions } from '~/types';\n\nimport ClickOutside from './ClickOutside';\nimport VolumeHigh from './icons/VolumeHigh';\nimport VolumeLow from './icons/VolumeLow';\nimport VolumeMid from './icons/VolumeMid';\nimport VolumeMute from './icons/VolumeMute';\n\ninterface Props {\n  inlineVolume: boolean;\n  layout: Layout;\n  locale: Locale;\n  playerPosition: string;\n  setVolume: (volume: number) => any;\n  styles: StylesOptions;\n  volume: number;\n}\n\nconst WrapperWithToggle = styled('div')(\n  {\n    display: 'none',\n    'pointer-events': 'all',\n    position: 'relative',\n    zIndex: 20,\n\n    '> div': {\n      alignItems: 'center',\n      backgroundColor: '#000',\n      borderRadius: px(4),\n      color: '#fff',\n      display: 'flex',\n      filter: 'drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))',\n      flexDirection: 'column',\n      left: '-4px',\n      padding: px(16),\n      position: 'absolute',\n\n      '> span': {\n        background: 'transparent',\n        borderLeft: `6px solid transparent`,\n        borderRight: `6px solid transparent`,\n        content: '\"\"',\n        display: 'block',\n        height: 0,\n        position: 'absolute',\n        width: 0,\n      },\n    },\n\n    '> button': {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: px(24),\n      height: px(32),\n      justifyContent: 'center',\n      width: px(32),\n    },\n\n    '@media (any-pointer: fine)': {\n      display: 'block',\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompact = style.layout === 'compact';\n    const spanStyles: CssLikeObject = isCompact\n      ? {\n          bottom: `-${px(6)}`,\n          borderTop: `6px solid #000`,\n        }\n      : {\n          [style.p === 'top' ? 'border-bottom' : 'border-top']: `6px solid #000`,\n          [style.p]: '-6px',\n        };\n\n    return {\n      '> button': {\n        color: style.c,\n      },\n      '> div': {\n        [isCompact ? 'bottom' : style.p]: '130%',\n\n        '> span': spanStyles,\n      },\n    };\n  },\n  'VolumeRSWP',\n);\n\nconst WrapperInline = styled('div')(\n  {\n    display: 'none',\n    padding: `0 ${px(8)}`,\n    'pointer-events': 'all',\n\n    '> div': {\n      display: 'flex',\n      padding: `0 ${px(5)}`,\n      width: px(100),\n    },\n\n    '> span': {\n      display: 'flex',\n      fontSize: px(24),\n    },\n\n    '@media (any-pointer: fine)': {\n      alignItems: 'center',\n      display: 'flex',\n    },\n  },\n  ({ style }) => ({\n    color: style.c,\n  }),\n  'VolumeInlineRSWP',\n);\n\nexport default function Volume(props: Props) {\n  const { inlineVolume, layout, locale, playerPosition, setVolume, styles, volume } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const [volumeState, setVolumeState] = useState(volume);\n  const timeoutRef = useRef<number>();\n  const previousVolume = usePrevious(volume);\n  const isMediumScreen = useMediaQuery('(min-width: 768px)');\n  const isInline = layout === 'responsive' && inlineVolume && isMediumScreen;\n\n  useEffect(() => {\n    if (previousVolume !== volume && volume !== volumeState) {\n      setVolumeState(volume);\n    }\n  }, [previousVolume, volume, volumeState]);\n\n  const handleClickToggleList = useCallback(() => {\n    setIsOpen(s => !s);\n  }, []);\n\n  const handleChangeSlider = ({ x, y }: RangeSliderPosition) => {\n    const value = isInline ? x : y;\n    const currentvolume = Math.round(value) / 100;\n\n    clearTimeout(timeoutRef.current);\n\n    timeoutRef.current = window.setTimeout(() => {\n      setVolume(currentvolume);\n    }, 250);\n\n    setVolumeState(currentvolume);\n  };\n\n  const handleAfterEnd = () => {\n    setTimeout(() => {\n      setIsOpen(false);\n    }, 100);\n  };\n\n  let icon = <VolumeHigh />;\n\n  if (volume === 0) {\n    icon = <VolumeMute />;\n  } else if (volume <= 0.4) {\n    icon = <VolumeLow />;\n  } else if (volume <= 0.7) {\n    icon = <VolumeMid />;\n  }\n\n  if (isInline) {\n    return (\n      <WrapperInline data-component-name=\"Volume\" data-value={volume} style={{ c: styles.color }}>\n        <span>{icon}</span>\n        <div>\n          <RangeSlider\n            axis=\"x\"\n            className=\"volume\"\n            data-component-name=\"volume-bar\"\n            onAfterEnd={handleAfterEnd}\n            onChange={handleChangeSlider}\n            styles={{\n              options: {\n                thumbBorder: 0,\n                thumbBorderRadius: styles.sliderHandleBorderRadius,\n                thumbColor: styles.sliderHandleColor,\n                height: 4,\n                padding: 0,\n                rangeColor: styles.sliderColor,\n                trackBorderRadius: styles.sliderTrackBorderRadius,\n                trackColor: styles.sliderTrackColor,\n              },\n            }}\n            x={volume * 100}\n            xMax={100}\n            xMin={0}\n          />\n        </div>\n      </WrapperInline>\n    );\n  }\n\n  return (\n    <ClickOutside isActive={isOpen} onClick={handleClickToggleList}>\n      <WrapperWithToggle\n        data-component-name=\"Volume\"\n        data-value={volume}\n        style={{ c: styles.color, layout, p: playerPosition }}\n      >\n        {isOpen && (\n          <div>\n            <RangeSlider\n              axis=\"y\"\n              className=\"volume\"\n              data-component-name=\"volume-bar\"\n              onAfterEnd={handleAfterEnd}\n              onChange={handleChangeSlider}\n              styles={{\n                options: {\n                  padding: 0,\n                  rangeColor: '#fff',\n                  thumbBorder: 0,\n                  thumbBorderRadius: 12,\n                  thumbColor: '#fff',\n                  thumbSize: 12,\n                  trackColor: 'rgba(255, 255, 255, 0.5)',\n                  width: 6,\n                },\n              }}\n              y={volume * 100}\n              yMax={100}\n              yMin={0}\n            />\n            <span />\n          </div>\n        )}\n        <button\n          aria-label={locale.volume}\n          onClick={handleClickToggleList}\n          title={locale.volume}\n          type=\"button\"\n        >\n          {icon}\n        </button>\n      </WrapperWithToggle>\n    </ClickOutside>\n  );\n}\n","export default function VolumeHigh(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeHigh\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M37.963 3.402a2.989 2.989 0 0 1 1.5 2.596v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0ZM45 9.542a23.008 23.008 0 0 1 0 44.912V48.25a17.008 17.008 0 0 0 0-32.508Zm-11.532 1.656-23.2 13.4a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6ZM45 22.238a11 11 0 0 1 0 19.52v-19.52Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeLow(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeLow\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 41.758v-19.52a11 11 0 0 1 0 19.52Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeHigh(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeMid\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 48.946a18.008 18.008 0 0 0 0-33.896v6.6a11.996 11.996 0 0 1 0 20.7v6.596Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeMute(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeMute\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M34.963 3.402a3 3 0 0 1 4.5 2.6v7.624a19.03 19.03 0 0 0-6 2.776v-5.2l-23.2 13.4a8.57 8.57 0 0 0-3.12 3.128 8.564 8.564 0 0 0 3.124 11.68l23.196 13.392v-5.2a18.92 18.92 0 0 0 6 2.776v7.624a3 3 0 0 1-4.5 2.596l-27.7-16a14.556 14.556 0 0 1-5.32-5.328C-2.06 32.313.32 23.428 7.263 19.402l27.7-16Zm17.354 17.6a3 3 0 0 1 2.122 5.12l-5.88 5.88 5.876 5.88a3 3 0 0 1-4.24 4.24l-5.88-5.88-5.88 5.88a3 3 0 1 1-4.385-4.095l6.025-6.025-5.876-5.88a3 3 0 0 1 4.236-4.24l5.88 5.88 5.88-5.88a3 3 0 0 1 2.122-.88Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { memo } from 'react';\n\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { ComponentsProps, StyledProps } from '~/types';\n\nconst StyledWrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    position: 'relative',\n\n    '> *': {\n      width: '100%',\n    },\n  },\n  ({ style }: StyledProps) => {\n    let styles: CssLikeObject = {};\n\n    if (style.layout === 'responsive') {\n      styles = {\n        '> *': {\n          '@media (min-width: 768px)': {\n            width: '33.3333%',\n          },\n        },\n\n        '@media (min-width: 768px)': {\n          flexDirection: 'row',\n          padding: `0 ${px(8)}`,\n        },\n      };\n    }\n\n    return {\n      minHeight: px(style.h),\n      ...styles,\n    };\n  },\n  'WrapperRSWP',\n);\n\nfunction Wrapper({ children, layout, styles }: ComponentsProps) {\n  return (\n    <StyledWrapper data-component-name=\"Wrapper\" style={{ h: styles.height, layout }}>\n      {children}\n    </StyledWrapper>\n  );\n}\n\nexport default memo(Wrapper);\n","export const ERROR_TYPE = {\n  ACCOUNT: 'account',\n  AUTHENTICATION: 'authentication',\n  INITIALIZATION: 'initialization',\n  PLAYBACK: 'playback',\n  PLAYER: 'player',\n} as const;\n\nexport const STATUS = {\n  ERROR: 'ERROR',\n  IDLE: 'IDLE',\n  INITIALIZING: 'INITIALIZING',\n  READY: 'READY',\n  RUNNING: 'RUNNING',\n  UNSUPPORTED: 'UNSUPPORTED',\n} as const;\n\nexport const TYPE = {\n  DEVICE: 'device_update',\n  FAVORITE: 'favorite_update',\n  PLAYER: 'player_update',\n  PROGRESS: 'progress_update',\n  STATUS: 'status_update',\n  TRACK: 'track_update',\n} as const;\n"],"mappings":"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","names":["memo","jsx","jsx","jsx","jsx","memo","jsx","Wrapper","memo","jsx","jsxs","Wrapper","memo","memo","jsx","jsx","jsx","jsx","jsx","jsx","jsxs","Wrapper","jsx","Wrapper","memo","useEffect","useRef","useState","useEffect","useRef","useState","useState","useEffect","useRef","jsx","jsx","jsx","jsx","jsxs","Wrapper","useState","useRef","useEffect","memo","jsx","Wrapper","jsx","useCallback","useEffect","useRef","useState","RangeSlider","jsx","jsx","jsx","VolumeHigh","jsx","jsx","jsxs","setVolume","useState","useRef","useEffect","useCallback","VolumeHigh","RangeSlider","memo","jsx","Wrapper","memo","jsx","jsxs"]}