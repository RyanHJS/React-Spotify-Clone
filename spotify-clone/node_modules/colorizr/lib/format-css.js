"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const hsl2rgb_1 = require("./hsl2rgb");
const utils_1 = require("./modules/utils");
const rgb2hsl_1 = require("./rgb2hsl");
function formatCSS(input, options = {}) {
    (0, utils_1.invariant)((0, utils_1.isPlainObject)(input) && ((0, utils_1.isRGB)(input) || (0, utils_1.isHSL)(input)), utils_1.messages.invalid);
    const { alpha, model = (0, utils_1.isRGB)(input) ? 'rgb' : 'hsl' } = options;
    const prefix = `${model}${(0, utils_1.isNumber)(alpha) ? 'a' : ''}`;
    let color = input;
    let params = [];
    if (model === 'rgb') {
        if ((0, utils_1.isHSL)(color)) {
            color = (0, hsl2rgb_1.default)(color);
        }
        params = [Math.round(color.r), Math.round(color.g), Math.round(color.b)];
    }
    else {
        if ((0, utils_1.isRGB)(color)) {
            color = (0, rgb2hsl_1.default)(color);
        }
        params = [Math.round(color.h), `${Math.round(color.s)}%`, `${Math.round(color.l)}%`];
    }
    if ((0, utils_1.isNumber)(alpha)) {
        params.push(alpha);
    }
    return `${prefix}(${params.join(', ')})`;
}
exports.default = formatCSS;
//# sourceMappingURL=format-css.js.map