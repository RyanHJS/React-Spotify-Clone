"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const brightness_difference_1 = require("./brightness-difference");
const color_difference_1 = require("./color-difference");
const contrast_1 = require("./contrast");
const utils_1 = require("./modules/utils");
/**
 * Check 2 colors for WCAG compliance.
 */
function compare(left, right) {
    (0, utils_1.invariant)((0, utils_1.isString)(left), utils_1.messages.left);
    (0, utils_1.invariant)((0, utils_1.isString)(right), utils_1.messages.right);
    const colorThreshold = 500;
    const brightnessThreshold = 125;
    const colorDifference = (0, color_difference_1.default)(left, right);
    const contrast = (0, contrast_1.default)(left, right);
    const brightnessDifference = (0, brightness_difference_1.default)(left, right);
    const isBright = brightnessDifference >= brightnessThreshold;
    const hasEnoughDifference = colorDifference >= colorThreshold;
    let compliant = 0;
    if (isBright && hasEnoughDifference) {
        compliant = 2;
    }
    else if (isBright || hasEnoughDifference) {
        compliant = 1;
    }
    return {
        brightnessDifference,
        colorDifference,
        compliant,
        contrast,
        largeAA: contrast >= 3,
        largeAAA: contrast >= 4.5,
        normalAA: contrast >= 4.5,
        normalAAA: contrast >= 7,
    };
}
exports.default = compare;
//# sourceMappingURL=compare.js.map